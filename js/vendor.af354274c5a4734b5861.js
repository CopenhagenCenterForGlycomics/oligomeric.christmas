/*! For license information please see vendor.af354274c5a4734b5861.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([["vendor"],{"/uG0":function(e,t,r){"use strict";r.r(t);var n=r("GOFX"),i=r("KdfE"),o=r("HUrS"),a=Object(n.default)("glycanjs:renderer"),s=Symbol("canvas"),l=Symbol("cached_layout"),h=Symbol("layout"),u=Symbol("rendered_sugars"),c=Symbol("rendered_elements"),f=Symbol("group_tag"),d=Symbol("rotate"),p=e=>e.toFixed(1),v=e=>e.height,g=e=>e.width,m=function(e,t,r,n,i){var o=this.rotate,a=o?g:v,s=o?v:g,l="?";"b"===e&&(l="β"),"a"===e&&(l="α"),(t=t||"?")<0&&(t="");var[h,u,c,f]=[r.x+r.width/2,r.y+r.height/2,n.x+n.width/2,n.y+n.height/2],d=o?h-c:u-f,p=o?u-f:h-c,m=a(r)+a(n),y=o?f:c,x=o?r.x:r.y,b=o?r.y-n.y:r.x-n.x,w=o?r.x-n.x:r.y-n.y,_=p/d;isFinite(_)||(_=-1,b>0&&(_=1));var k=d,O=.75*k;Math.abs(k)>=m/2?O=.75*(k-=m/2)+a(n)/2:0==k&&(O=.425*Math.abs(p));var C=_*O;0===C&&(C+=s(r)/10);var T=100*(y+C),S=100*(x+1*a(r));0===w&&(S=100*(x+a(r)/8))>25&&(S=25);var A=this.renderLinkageLabel(i,o?S:T,o?T:S,l+t,o,C);return i.sendToBack(A),A},y=(e,t,r,n,i)=>[(1-i)*e+i*r,(1-i)*t+i*n],x=(e,t,r,n,i)=>{var o=t-n,a=r-e,s=i/Math.hypot(o,a);return[e+(o*=s),t+(a*=s),e-o,t-a]},b=(e,t,r,n,i)=>{var o=t-n,a=r-e,s=i/Math.hypot(o,a);return[e-(o*=s),t-(a*=s),e,t]},w=function(e,t,r,n,i,a){var s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];if(t){var l=[100*(e.x+e.width/2),100*(e.y+e.height/2),100*(t.x+t.width/2),100*(t.y+t.height/2)],h=this.renderLinkageGroup(a,i,r);a.sendToBack(h),h.line(...l,{"stroke-width":p(1),stroke:"#333"}),s&&m.call(this,r.anomer,n.linkageOf(r),e,t,h);var u=r instanceof o.default.Monosaccharide,c=n instanceof o.default.Monosaccharide;if(u&&r.endsRepeat&&0===r.children.length){var f=[100*(e.x+e.width/2),100*(e.y+e.height/2),100*(t.x+t.width/2),100*(t.y+t.height/2)],d=-1,v=.25;e.x-t.x!=0&&e.y-t.y!=0&&(v=.25);var g=y(...f,-.5),w=x(g[0],g[1],f[2],f[3],100*e.width*v),_=b(...w,100*d*e.width/8),k=b(w[2],w[3],w[0],w[1],-1*d*100*e.width/8);h.line(...w,{"stroke-width":p(5),stroke:"#999"}),h.line(..._,{"stroke-width":p(5),stroke:"#999"}),h.line(...k,{"stroke-width":p(5),stroke:"#999"})}if(u?!c:c){var O=[100*(e.x+e.width/2),100*(e.y+e.height/2),100*(t.x+t.width/2),100*(t.y+t.height/2)],C=u?1:-1,T=.25;e.x-t.x!=0&&e.y-t.y!=0&&(T=.25);var S=y(...O,C>0?.55:.5),A=x(S[0],S[1],O[2],O[3],100*e.width*T),M=b(...A,100*C*e.width/8),F=b(A[2],A[3],A[0],A[1],-1*C*100*e.width/8);h.line(...A,{"stroke-width":p(5),stroke:"#999"}),h.line(...M,{"stroke-width":p(5),stroke:"#999"}),h.line(...F,{"stroke-width":p(5),stroke:"#999"}),u&&h.text(M[2],M[3],r.repeat.identifier,{"font-size":p(Math.floor(100/3)),"text-anchor":"end",dy:"0.25em",dx:"-0.25em"})}return h}},_=function(e){var t=new Set(e);for(var r of this.rendered.keys())if(r instanceof i.default&&!t.has(r)){var n=this.rendered.get(r);this.removeRendered(n),this.rendered.delete(r)}},k=function(e,t){if(t){a.info("Laying out",e.sequence);var r=t.PerformLayout(e);return r.calculateIdentifier=t.CalculateIdentifier,r}a.info("No layout engine specified, skipping layout")},O=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.composition(),n=[],i=[],o=this.rendered.get(e),a=this.rotate;if(o=this.setupContainer(o,e),!(r.length<1)){var s=[];for(var l of t?r:[]){var u=t.get(l),c=u.x,f=u.y;a&&(u.x=f,u.y=-1*c-u.width),n.push(u.x),n.push(u.x+u.width),i.push(u.y),i.push(u.y+u.height);var d=null,p=this.rendered.get(l);p?d=p.residue:(p={residue:d=this.renderIcon(o,t.calculateIdentifier(l),l,e),linkage:null},this.rendered.set(l,p)),1!==u.z&&s.push({z:u.z,icon:d});var v=1==this[h].LINKS;p.linkage&&this.removeRendered({linkage:p.linkage}),p.linkage=this.renderLinkage(u,l.parent?t.get(l.parent):void 0,l,l.parent,e,o,v);var g=0;u.rotate&&(g=u.rotate),a&&(g-=90),this.setIconPosition(d,100*u.x,100*u.y,100*u.width,100*u.height,g)}var m=s.map(e=>e.icon.element).map(e=>[...e.parentNode.children].indexOf(e)).map((e,t,r)=>e-(r[t-1]||0)).map(e=>e>=0).reduce((e,t)=>e&&t,!0);if(!m)for(var y of s.sort((e,t)=>e.z-t.z))o.sendToFront(y.icon);if(this.groupTag&&o.tagGroup){var x=[];for(var b of e.composition_for_tag(this.groupTag)){var w=this.rendered.get(b);w&&(w.linkage&&o.tagGroup.appendChild(w.linkage),x.push(w.residue))}for(var _ of x)o.tagGroup.appendChild(_.element)}return o}};t.default=class{constructor(e,t){e&&t&&(this[h]=t,this[l]=new WeakMap),this[u]=[],this[c]=new Map}get LayoutEngine(){return this[h]}set LayoutEngine(e){return this[h]=e,this[h]}static get GLOBAL_SCALE(){return 100}get element(){return this[s]}set element(e){return this[s]=e,this[s]}get rendered(){return this[c]}set groupTag(e){e!==this[f]&&this.resetTags(),this[f]=e}get groupTag(){return this[f]}addSugar(e){this[u].push(e)}get sugars(){return Object.freeze([].concat(this[u]))}layoutFor(e){if(this.global_layout.has(e)){var{x:t,y:r,width:n,height:i}=this.global_layout.get(e);return{x:t,y:r,width:n,height:i}}}refresh(){for(var e of(_.bind(this)(Array.prototype.concat(...this[u].map(e=>e.composition()))),this.global_layout=new WeakMap,this[u])){var t=k(e,this[h]);if(t)for(var r of[e,...e.composition()])this.global_layout.set(r,t.get(r));var n=e.composition();O.bind(this)(e,t,n)}return Promise.resolve()}setupContainer(){}resetTags(){}removeRendered(){}renderIcon(){}renderLinkageLabel(){}renderLinkage(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return w.call(this,...t)}get horizontal(){return this[d]}set horizontal(e){this[d]=!!e}}},"19Mu":function(e,t,r){"use strict";function n(){this.clear()}r.r(t),n.prototype={toString:function(){return"[object MixedTupleMap]"},_hash:function(e){if(e===this._lastTuple)return this._lastHash;for(var t=e.length,r=[],n=[],i=[],o=0;o<t;o++){var a=e[o],s=typeof a;null===s||"object"!==s&&"function"!==s?(r.push("string"===s?'"'+a+'"':""+a),n.push(o)):i.push(o)}if(0===i.length)throw new Error("Tuple must have at least one non-primitive part");return r.push("["+i.concat(n).join()+"]"),this._lastTuple=e,this._lastHash={nonPrimOrder:i,primHash:r.join("/<[MI_SEP]>/")},this._lastHash},has:function(e){for(var t=this._cache,r=this._hash(e),n=r.nonPrimOrder.length,i=0;i<n;i++){var o=e[r.nonPrimOrder[i]];if(!t.has||!t.has(o))return!1;t=t.get(o)}return!!t.has&&t.has(r.primHash)},set:function(e,t){for(var r=this._cache,n=this._hash(e),i=n.nonPrimOrder.length,o=!1,a=0;a<i;a++){var s=e[n.nonPrimOrder[a]];!o&&r.has(s)?r=r.get(s):(o=!0,r.set(s,r=a<i-1?new WeakMap:new Map))}return r.set(n.primHash,t),this},get:function(e){for(var t=this._cache,r=this._hash(e),n=r.nonPrimOrder.length,i=0;i<n;i++){var o=e[r.nonPrimOrder[i]],a=t.get&&t.get(o);if(void 0===a)return a;t=a}return t.get&&t.get(r.primHash)},clear:function(){this._cache=new WeakMap,delete this._lastTuple,delete this._lastHash}},t.default=n},"1QVZ":function(e,t){var r=1e3,n=6e4,i=36e5,o=24*i;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return a(e,t,o,"day");if(t>=i)return a(e,t,i,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"7iwg":function(e,t,r){var n=r("jGvu"),i={};function o(e,t,r,o){var a=Reflect.get(e,t,r)||Reflect.get(n,t,r);return a&&a!==n?a:(o&&(t="".concat(o,":").concat(t)),i[t]||(i[t]=s(t)))}var a=(e,t,r)=>Reflect.set(n,t,r),s=new Proxy((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return new Proxy(n(e,...r),{get:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o(...r,e)},set:a})}),{get:o,set:a});e.exports=s},EYlo:function(e,t,r){(function(e,r){!function(t){"use strict";function n(e){var t=f.indexOf(e);-1<t&&f.splice(t,1),f.push(e),m=0,p&&!d&&(s=g(w),d=!0)}function i(e){for(var t=0;t<f.length;t++)if(e===f[t])return f[t];return null}function o(){return d}function a(){return x}var s,l="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:this||(void 0!==t?t:{}),h=l.requestAnimationFrame||function(e){return l.setTimeout(e,50/3)},u=l.cancelAnimationFrame||function(e){return l.clearTimeout(e)},c=function(){if(void 0===r||void 0===r.hrtime||r.versions&&void 0!==r.versions.electron){if(void 0!==l.performance&&void 0!==l.performance.now)return l.performance.now.bind(l.performance);var e=l.performance&&l.performance.timing&&l.performance.timing.navigationStart?l.performance.timing.navigationStart:Date.now();return function(){return Date.now()-e}}return function(){var e=r.hrtime();return 1e3*e[0]+e[1]/1e6}}(),f=[],d=!1,p=!1,v=[],g=h,m=0,y=120,x=!0,b=function(e){var t=f.indexOf(e);-1!==t&&f.splice(t,1),0===f.length&&(u(s),d=!1)},w=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c(),r=1<arguments.length?arguments[1]:void 0;if(y<=m&&x)return d=!1,m=0,u(s),!1;p&&d?s=g(e):function(){for(var e=0;e<v.length;e++)v[e]()}(),f.length||m++;for(var n=0,i=f.length;n<i;)f[n++].update(t,r),i>f.length&&n--,i=f.length;return!0},_={},k={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return Math.pow(e,2)},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*Math.pow(e,2):-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return Math.pow(e,3)},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*Math.pow(e,3):.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return Math.pow(e,4)},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*Math.pow(e,4):-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return Math.pow(e,5)},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*Math.pow(e,5):.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((1+t)*e-t)*.5:.5*((e-=2)*e*((1+t)*e+t)+2)}},Bounce:{In:function(e){return 1-k.Bounce.Out(1-e)},Out:function(e){var t=2.75,r=7.5625;return e<1/t?r*e*e:e<2/t?r*(e-=1.5/t)*e+.75:e<2.5/t?r*(e-=2.25/t)*e+.9375:r*(e-=2.625/t)*e+.984375},InOut:function(e){return e<.5?.5*k.Bounce.In(2*e):.5*k.Bounce.Out(2*e-1)+.5}},Stepped:{steps:function(e){return function(t){return(t*e|0)/e}}}};function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t,r){return t&&T(e.prototype,t),r&&T(e,r),e}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){var n,i,o;n=e,o=r[i=t],i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}))}return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?E(e):t}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var P=50/3,R="_chainedTweens",q="Callback",H="update",N="complete",I="start",B="repeat",z="reverse",G="restart",D="STRING_PROP",V=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;function U(e){if(e&&e.nodeType||void 0===e||"object"!==O(e))return e;if(Array.isArray(e))return[].concat(e);if("object"!==O(e))return e;var t={};for(var r in e)t[r]=U(e[r]);return t}var X=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,W=function(e,t){var r,n,i;3===t.length&&(t=(r=t[0])+r+(n=t[1])+n+(i=t[2])+i);var o=parseInt(t,16);return"rgb("+(r=o>>16&255)+", "+(n=o>>8&255)+", "+(i=255&o)+")"};function Y(e){if(e&&e.splice&&e.isString)return e;if("string"!=typeof e)return e;if("="===e.charAt(1))return e;var t=e.replace(X,W).match(V).map((function(e){return function(e){return isNaN(+e)||("+"===e[0]||"-"===e[0])&&"="===e[1]||""===e||" "===e}(e)?e:+e}));return t.isString=!0,t}function K(e,t,r,n){var i=r[e],o=n[e];if(i===o)return!0;if(Array.isArray(i)&&Array.isArray(o)&&i.length===o.length)for(var a=0,s=o.length;a<s;a++){var l=i[a],h=o[a];l===h||"number"==typeof l&&"number"==typeof h||K(a,t[e],i,o)}if("number"==typeof i&&"number"==typeof o);else if(i&&i.splice&&i.isString&&o&&o.splice&&o.isString);else{if("string"==typeof i&&Array.isArray(o)){var u=Y(i),c=o.map(Y);return r[e]=u,n[e]=c,!0}if("string"==typeof i||"string"==typeof o){var f=Array.isArray(i)&&i[0]===D?i:Y(i),d=Array.isArray(o)&&o[0]===D?o:Y(o);if(void 0===f)return;for(var p=1;p<f.length;)f[p]===d[p]&&"string"==typeof f[p-1]?(f.splice(p-1,2,f[p-1]+f[p]),d.splice(p-1,2,d[p-1]+d[p])):p++;return f[p=0]===D&&f.shift(),d[0]===D&&d.shift(),r[e]=f,n[e]=d,!0}if("object"===O(i)&&"object"===O(o)){if(Array.isArray(i)&&!i.isString)return i.map((function(r,n){return K(n,t[e],i,o)}));for(var v in o)K(v,t[e],i,o);return!0}}return!1}var $="rgba(",Z=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"rgb(";return"number"==typeof e[t]&&(e[t-1]===r||e[t-3]===r||e[t-5]===r)};function J(e,t,r,n,i,o,a){var s=a?r:r[e],l=a?n:n[e];if(void 0===l)return s;if(void 0===s||"string"==typeof s||s===l)return l;if("object"===O(s)&&"object"===O(l)){if(!s||!l)return t[e];if("object"===O(s)&&s&&s.isString&&l&&l.splice&&l.isString){for(var h="",u=0,c=s.length;u<c;u++)if(s[u]!==l[u]||"number"!=typeof s[u]||"number"==typeof l[u]){var f="number"==typeof s[u]&&"string"==typeof l[u]&&"="===l[u][1],d="number"!=typeof s[u]?s[u]:f?s[u]+parseFloat(l[u][0]+l[u].substr(2))*i:s[u]+(l[u]-s[u])*i;(Z(s,u)||Z(s,u,$))&&(d|=0),h+=d,f&&1===o&&(s[u]=s[u]+parseFloat(l[u][0]+l[u].substr(2)))}else h+=s[u];return a||(t[e]=h),h}if(Array.isArray(s)&&s[0]!==D)for(var p=0,v=s.length;p<v;p++)s[p]!==l[p]&&"string"!=typeof t[e]&&J(p,t[e],s,l,i,o);else if("object"===O(s)&&s&&!s.isString)for(var g in s)s[g]!==l[g]&&J(g,t[e],s,l,i,o)}else if("number"==typeof s){var m="string"==typeof l;t[e]=m?s+parseFloat(l[0]+l.substr(2))*i:s+(l-s)*i,m&&1===o&&(r[e]=t[e])}else"function"==typeof l&&(t[e]=l(i));return t[e]}function Q(e,t){var r=e[t],n=t.replace(ne,"").split(re),i=n.length-1,o=Array.isArray(e),a="object"===O(e)&&!o;return a?(e[t]=null,delete e[t]):o&&e.splice(t,1),n.reduce((function(e,t,s){o&&"."!==t&&"["!==t&&(t*=1);var l="["===n[s+1];if("."===t||"["===t)return"."===t?o=!(a=!0):"["===t&&(o=!(a=!1)),e;if(void 0===e[t]){if(o||a)return e[t]=s===i?r:o||l?[]:a?{}:null,a=o=!1,e[t]}else if(void 0!==e[t])return s===i&&(e[t]=r),e[t];return e}),e)}function ee(e){if("object"===O(e)&&e)for(var t in e)if(-1!==t.indexOf(".")||-1!==t.indexOf("["))Q(e,t);else if("object"===O(e[t])&&e[t]){var r=e[t];for(var n in r)if(-1!==n.indexOf(".")||-1!==n.indexOf("["))Q(r,n);else if("object"===O(r[n])&&r[n]){var i=r[n];for(var o in i)-1===o.indexOf(".")&&-1===o.indexOf("[")||Q(i,o)}}return e}var te,re=/([.[])/g,ne=/\]/g,ie=Object.freeze({FRAME_MS:P,TOO_LONG_FRAME_MS:250,CHAINED_TWEENS:R,EVENT_CALLBACK:q,EVENT_UPDATE:H,EVENT_COMPLETE:N,EVENT_START:I,EVENT_REPEAT:B,EVENT_REVERSE:z,EVENT_PAUSE:"pause",EVENT_PLAY:"play",EVENT_RESTART:G,EVENT_STOP:"stop",EVENT_SEEK:"seek",STRING_PROP:D,NUM_REGEX:V,deepCopy:U,decomposeString:Y,decompose:K,RGB:"rgb(",RGBA:$,isRGBColor:Z,recompose:J,SET_NESTED:ee}),oe={Linear:function(e,t,r){var n=e.length-1,i=n*t,o=Math.floor(i),a=oe.Utils.Linear;return t<0?a(e[0],e[1],i,r):1<t?a(e[n],e[n-1],n-i,r):a(e[o],e[n<o+1?n:o+1],i-o,r)},Bezier:function(e,t,r){for(var n=oe.Utils.Reset(r),i=e.length-1,o=Math.pow,a=oe.Utils.Bernstein,s=Array.isArray(n),l=0;l<=i;l++)if("number"==typeof n)n+=o(1-t,i-l)*o(t,l)*e[l]*a(i,l);else if(s)for(var h=0,u=n.length;h<u;h++)"number"==typeof n[h]?n[h]+=o(1-t,i-l)*o(t,l)*e[l][h]*a(i,l):n[h]=e[l][h];else if("object"===O(n))for(var c in n)"number"==typeof n[c]?n[c]+=o(1-t,i-l)*o(t,l)*e[l][c]*a(i,l):n[c]=e[l][c];else if("string"==typeof n){for(var f="",d=e[Math.round(i*t)],p=1,v=d.length;p<v;p++)f+=d[p];return f}return n},CatmullRom:function(e,t,r){var n=e.length-1,i=n*t,o=Math.floor(i),a=oe.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(o=Math.floor(i=n*(1+t))),a(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],i-o,r)):t<0?a(e[1],e[1],e[0],e[0],-t,r):1<t?a(e[n-1],e[n-1],e[n],e[n],(0|t)-t,r):a(e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2],i-o,r)},Utils:{Linear:function(e,t,r,n){if(e===t||"string"==typeof e){if(t.length&&t.splice&&t.isString){t="";for(var i=0,o=e.length;i<o;i++)t+=e[i]}return t}if("number"==typeof e)return"function"==typeof e?e(r):e+(t-e)*r;if("object"===O(e)){if(void 0!==e.length){var a="string"==typeof e[0]||e.isString;if(a||e[0]===D){for(var s="",l=a?0:1,h=e.length;l<h;l++){var u=0===r?e[l]:1===r?t[l]:"number"==typeof e[l]?e[l]+(t[l]-e[l])*r:t[l];(0<r&&r<1&&Z(e,l)||Z(e,l,$))&&(u|=0),s+=u}return s}if(n&&n.length&&n.splice)for(var c=0,f=n.length;c<f;c++)n[c]=oe.Utils.Linear(e[c],t[c],r,n[c])}else for(var d in n)n[d]=oe.Utils.Linear(e[d],t[d],r,n[d]);return n}},Reset:function(e){if(Array.isArray(e)){for(var t=0,r=e.length;t<r;t++)e[t]=oe.Utils.Reset(e[t]);return e}if("object"!==O(e))return"number"==typeof e?0:e;for(var n in e)e[n]=oe.Utils.Reset(e[n]);return e},Bernstein:function(e,t){var r=oe.Utils.Factorial;return r(e)/r(t)/r(e-t)},Factorial:(te=[1],function(e){var t=1;if(te[e])return te[e];for(var r=e;1<r;r--)t*=r;return te[e]=t}),CatmullRom:function(e,t,r,n,i,o){if("string"==typeof e)return t;if("number"==typeof e){var a=.5*(r-e),s=.5*(n-t),l=i*i;return(2*t-2*r+a+s)*(i*l)+(-3*t+3*r-2*a-s)*l+a*i+t}if("object"===O(e)){if(void 0!==e.length){if(e[0]===D){for(var h="",u=1,c=e.length;u<c;u++){var f="number"==typeof e[u]?oe.Utils.CatmullRom(e[u],t[u],r[u],n[u],i):n[u];(Z(e,u)||Z(e,u,$))&&(f|=0),h+=f}return h}for(var d=0,p=o.length;d<p;d++)o[d]=oe.Utils.CatmullRom(e[d],t[d],r[d],n[d],i,o[d])}else for(var v in o)o[v]=oe.Utils.CatmullRom(e[v],t[v],r[v],n[v],i,o[v]);return o}}}},ae={};function se(e,t,r){if(!e||!e.nodeType)return t;var n=e.queueID||"q_"+Date.now();e.queueID||(e.queueID=n);var i=ae[n];if(i){if(i.object===t&&e===i.tween.node&&r._startTime===i.tween._startTime)b(i.tween);else if("object"===O(t)&&t&&i.object){for(var o in t)o in i.object&&(r._startTime===i.tween._startTime?delete i.object[o]:i.propNormaliseRequired=!0);Object.assign(i.object,t)}return i.object}return"object"===O(t)&&t?(ae[n]={tween:r,object:t,propNormaliseRequired:!1},ae[n].object):t}function le(e,t,r){return t?e?"undefined"!=typeof window&&e===window||"undefined"!=typeof document&&e===document?[e]:"string"==typeof e?!!document.querySelectorAll&&document.querySelectorAll(e):Array.isArray(e)?e:e.nodeType?[e]:r?e:[]:null:e?"undefined"!=typeof window&&e===window||"undefined"!=typeof document&&e===document?e:"string"==typeof e?!!document.querySelector&&document.querySelector(e):Array.isArray(e)?e[0]:e.nodeType?e:r?e:null:null}var he=0,ue=k.Linear.None,ce=function(){function e(t,r){return C(this,e),this.id=he++,!t||"object"!==O(t)||r||t.nodeType?t&&(t.nodeType||t.length||"string"==typeof t)&&(t=this.node=le(t),r=this.object=se(t,r,this)):(r=this.object=t,t=null),this._valuesEnd=null,this._valuesStart=Array.isArray(r)?[]:{},this._duration=1e3,this._easingFunction=ue,this._easingReverse=ue,this._interpolationFunction=oe.Linear,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=null,this._isFinite=!0,this._maxListener=15,this._chainedTweensCount=0,this._prevTime=null,this}return S(e,null,[{key:"fromTo",value:function(t,r,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};i.quickRender=i.quickRender?i.quickRender:!n;var o=new e(t,r).to(n,i);return i.quickRender&&(o.render().update(o._startTime),o._rendered=!1,o._onStartCallbackFired=!1),o}},{key:"to",value:function(t,r,n){return e.fromTo(t,null,r,n)}},{key:"from",value:function(t,r,n){return e.fromTo(t,r,null,n)}}]),S(e,[{key:"setMaxListener",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:15;return this._maxListener=e,this}},{key:"on",value:function(e,t){for(var r=this._maxListener,n=e+q,i=0;i<r;i++){var o=n+i;if(!this[o]){this[o]=t;break}}return this}},{key:"once",value:function(e,t){for(var r=this,n=this._maxListener,i=e+q,o=function(e){var n=i+e;if(!r[n])return r[n]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];t.apply(r,i),r[n]=null},"break"},a=0;a<n&&"break"!==o(a);a++);return this}},{key:"off",value:function(e,t){for(var r=this._maxListener,n=e+q,i=0;i<r;i++){var o=n+i;this[o]===t&&(this[o]=null)}return this}},{key:"emit",value:function(e,t,r,n){var i=this._maxListener,o=e+q;if(!this[o+0])return this;for(var a=0;a<i;a++){var s=o+a;this[s]&&this[s](t,r,n)}return this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"isStarted",value:function(){return this._onStartCallbackFired}},{key:"reverse",value:function(e){var t=this._reversed;return this._reversed=void 0!==e?e:!t,this}},{key:"reversed",value:function(){return this._reversed}},{key:"pause",value:function(){return this._isPlaying?(this._isPlaying=!1,b(this),this._pausedTime=c(),this.emit("pause",this.object)):this}},{key:"play",value:function(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=c()-this._pausedTime,this._initTime=this._startTime,n(this),this._pausedTime=c(),this.emit("play",this.object))}},{key:"restart",value:function(e){return this._repeat=this._r,this.reassignValues(),n(this),this.emit(G,this.object)}},{key:"seek",value:function(e,t){var r=this._duration,n=this._initTime,i=this._startTime,o=this._reversed,a=n+e;return this._isPlaying=!0,a<i&&n<=i&&(this._startTime-=r,this._reversed=!o),this.update(e,!1),this.emit("seek",e,this.object),t?this:this.pause()}},{key:"duration",value:function(e){return this._duration="function"==typeof e?e(this._duration):e,this}},{key:"to",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3;if(this._valuesEnd=e,"number"==typeof t||"function"==typeof t)this._duration="function"==typeof t?t(this._duration):t;else if("object"===O(t))for(var r in t)if("function"==typeof this[r]){var n=L(Array.isArray(t[r])?t[r]:[t[r]],4),i=n[0],o=void 0===i?null:i,a=n[1],s=void 0===a?null:a,l=n[2],h=void 0===l?null:l,u=n[3],c=void 0===u?null:u;this[r](o,s,h,c)}return this}},{key:"render",value:function(){if(this._rendered)return this;var t=this._valuesStart,r=this._valuesEnd,n=this.object,i=this.node,o=this.InitialValues;if(ee(n),ee(r),i&&i.queueID&&ae[i.queueID]){var a=ae[i.queueID];if(a.propNormaliseRequired&&a.tween!==this){for(var s in r)a.tween._valuesEnd[s];a.normalisedProp=!0,a.propNormaliseRequired=!1}}if(i&&o&&(n&&0!==Object.keys(n).length?r&&0!==Object.keys(r).length||(r=this._valuesEnd=o(i,n)):n=this.object=se(i,o(i,r),this)),!t.processed){for(var l in r){var h=n&&n[l]&&U(n[l]),u=r[l];if(!(_[l]&&_[l].init&&(_[l].init.call(this,h,u,l,n),void 0===h&&t[l]&&(h=t[l]),_[l].skipProcess)||"number"==typeof h&&isNaN(h)||null===h||null===u||!1===h||!1===u||void 0===h||void 0===u||h===u)){if(t[l]=h,Array.isArray(u))if(Array.isArray(h))u.isString&&n[l].isString&&!h.isString?h.isString=!0:K(l,n,t,r);else{u.unshift(h);for(var c=0,f=u.length;c<f;c++)"string"==typeof u[c]&&(u[c]=Y(u[c]))}else K(l,n,t,r);"number"!=typeof h||"string"!=typeof u||u[1]}}t.processed=!0}return e.Renderer&&this.node&&e.Renderer.init&&(e.Renderer.init.call(this,n,t,r),this.__render=!0),this._rendered=!0,this}},{key:"start",value:function(e){return this._startTime=void 0!==e?"string"==typeof e?c()+parseFloat(e):e:c(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,n(this),this}},{key:"stop",value:function(){var e=this._isPlaying,t=this._isFinite,r=this.object,n=this._startTime,i=this._duration,o=this._r,a=this._yoyo,s=this._reversed;if(!e)return this;var l=t?(o+1)%2==1:!s;return this._reversed=!1,a&&l?this.update(n):this.update(n+i),b(this),this.emit("stop",r)}},{key:"delay",value:function(e){return this._delayTime="function"==typeof e?e(this._delayTime):e,this}},{key:"chainedTweens",value:function(){if(this._chainedTweensCount=arguments.length,!this._chainedTweensCount)return this;for(var e=0,t=this._chainedTweensCount;e<t;e++)this[R+e]=arguments[e];return this}},{key:"repeat",value:function(e){return this._repeat=this._duration?"function"==typeof e?e(this._repeat):e:0,this._r=this._repeat,this._isFinite=isFinite(e),this}},{key:"reverseDelay",value:function(e){return this._reverseDelayTime="function"==typeof e?e(this._reverseDelayTime):e,this}},{key:"yoyo",value:function(e,t){return this._yoyo="function"==typeof e?e(this._yoyo):null===e?this._yoyo:e,e||(this._reversed=!1),this._easingReverse=t||null,this}},{key:"easing",value:function(e){return this._easingFunction=e,this}},{key:"interpolation",value:function(e){return"function"==typeof e&&(this._interpolationFunction=e),this}},{key:"reassignValues",value:function(e){var t=this._valuesStart,r=this.object,i=this._delayTime;for(var o in this._isPlaying=!0,this._startTime=void 0!==e?e:c(),this._startTime+=i,this._reversed=!1,n(this),t){var a=t[o];r[o]=a}return this}},{key:"update",value:function(t,r,n){var i,s,l,h=this._onStartCallbackFired,u=this._easingFunction,f=this._interpolationFunction,d=this._easingReverse,p=this._repeat,v=this._delayTime,g=this._reverseDelayTime,m=this._yoyo,y=this._reversed,x=this._startTime,w=this._prevTime,k=this._duration,O=this._valuesStart,C=this._valuesEnd,T=this.object,S=this._isFinite,A=this._isPlaying,M=this.__render,F=this._chainedTweensCount,E=0;if(k){var j=(t=void 0!==t?t:c())-w;if(this._prevTime=t,250<j&&o()&&a()&&(t-=j-P),!A||t<x&&!n)return!0;i=1<(i=(t-x)/k)?1:i,i=y?1-i:i}else i=1,p=0;if(h||(this._rendered||(this.render(),this._rendered=!0),this.emit(I,T),this._onStartCallbackFired=!0),s=y&&d||u,!T)return!0;for(l in C){var L=O[l];if(null!=L||_[l]&&_[l].update){var q=C[l],G=s[l]?s[l](i):"function"==typeof s?s(i):ue(i),D=f[l]?f[l]:"function"==typeof f?f:oe.Linear;"number"==typeof q?T[l]=L+(q-L)*G:!Array.isArray(q)||q.isString||Array.isArray(L)?q&&q.update?q.update(G):"function"==typeof q?T[l]=q(G):"string"==typeof q&&"number"==typeof L?T[l]=L+parseFloat(q[0]+q.substr(2))*G:J(l,T,O,C,G,i):T[l]=D(q,G,T[l]),_[l]&&_[l].update&&_[l].update.call(this,T[l],L,q,G,i,l),E++}}if(!E)return b(this),!1;if(M&&e.Renderer&&e.Renderer.update&&e.Renderer.update.call(this,T,i),this.emit(H,T,i,t),1===i||y&&0===i){if(0<p&&0<k){if(S&&this._repeat--,m)this._reversed=!y;else for(l in C){var V=C[l];"string"==typeof V&&"number"==typeof O[l]&&(O[l]+=parseFloat(V[0]+V.substr(2)))}return this.emit(m&&!y?z:B,T),this._startTime=y&&g?t-g:t+v,!0}if(r||(this._isPlaying=!1,b(this),he--),this.emit(N,T),this._repeat=this._r,F)for(var U=0;U<F;U++)this[R+U].start(t+k);return!1}return!0}}]),e}(),fe=function(){function e(){C(this,e),this.totalTime=0,this.labels=[],this.offsets=[]}return S(e,[{key:"parseLabel",value:function(e,t){var r=this.offsets,n=this.labels,i=n.indexOf(e);if("string"==typeof e&&-1!==e.indexOf("=")&&!t&&-1===i){var o=e.substr(e.indexOf("=")-1,2),a=e.split(o);t=2===a.length?o+a[1]:null,e=a[0],i=n.indexOf(e)}if(-1!==i&&e){var s=r[i]||0;if("number"==typeof t)s=t;else if("string"==typeof t&&-1!==t.indexOf("=")){var l=t.charAt(0);t=Number(t.substr(2)),"+"===l||"-"===l?s+=parseFloat(l+t):"*"===l?s*=t:"/"===l?s/=t:"%"===l&&(s*=t/100)}return s}return"number"==typeof t?t:0}},{key:"addLabel",value:function(e,t){return this.labels.push(e),this.offsets.push(this.parseLabel(e,t)),this}},{key:"setLabel",value:function(e,t){var r=this.labels.indexOf(e);return-1!==r&&this.offsets.splice(r,1,this.parseLabel(e,t)),this}},{key:"eraseLabel",value:function(e){var t=this.labels.indexOf(e);return-1!==t&&(this.labels.splice(t,1),this.offsets.splice(t,1)),this}}]),e}(),de=0,pe=function(e){function t(e){var r;return C(this,t),(r=j(this,M(t).call(this)))._duration=0,r._startTime=e&&void 0!==e.startTime?e.startTime:c(),r._tweens=[],r.elapsed=0,r._id=de++,r._defaultParams=e,r.position=new fe,r.position.addLabel("afterLast",r._duration),r.position.addLabel("afterInit",r._startTime),r._onStartCallbackFired=!1,j(r,E(r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,ce),S(t,[{key:"mapTotal",value:function(e){return e.call(this,this._tweens),this}},{key:"timingOrder",value:function(e){var t=e(this._tweens.map((function(e){return e._startTime})));return this._tweens.map((function(e,r){e._startTime=t[r]})),this}},{key:"getTiming",value:function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if("reverse"===e){var i=r.stagger,o=(i||0)*(t.length-1);return t.map((function(e,t){return o-(i||0)*t+n}))}if("async"===e)return t.map((function(e){return n}));if("sequence"===e||"delayed"===e){var a=r.stagger;return a||(a=(r.duration||1e3)/(t.length-1)),t.map((function(e,t){return a*t+n}))}if("oneByOne"===e)return t.map((function(e){return r.duration}));if("shuffle"===e){var s=r.stagger;return function(e){var t,r,n;for(n=e.length;n;n-=1)t=Math.floor(Math.random()*n),r=e[n-1],e[n-1]=e[t],e[t]=r;return e}(t.map((function(e,t){return(s||0)*t+n})))}var l=r.stagger;return t.map((function(e,t){return(l||0)*t+n}))}},{key:"fromTo",value:function(e,t,r,n){if((e=le(e,!0,!0))&&e.length){this._defaultParams&&(n=n?A({},this._defaultParams,n):this._defaultParams);for(var i,o=n.label,a="number"==typeof o?o:this.position.parseLabel(void 0!==o?o:"afterLast",null),s=this.getTiming(n.mode,e,n,a),l=0,h=e.length;l<h;l++)i=e[l],this.add(ce.fromTo(i,"function"==typeof t?t(l,e.length):"object"===O(t)&&t?A({},t):null,"function"==typeof r?r(l,e.length):r,"function"==typeof n?n(l,e.length):n),s[l])}return this.start()}},{key:"from",value:function(e,t,r){return this.fromTo(e,t,null,r)}},{key:"to",value:function(e,t,r){return this.fromTo(e,null,t,r)}},{key:"addLabel",value:function(e,t){return this.position.addLabel(e,t),this}},{key:"map",value:function(e){for(var t=0,r=this._tweens.length;t<r;t++){var n=this._tweens[t];e(n,t),this._duration=Math.max(this._duration,n._duration+n._startTime)}return this}},{key:"add",value:function(e,t){var r=this;if(Array.isArray(e))return e.map((function(e){r.add(e,t)})),this;"object"!==O(e)||e instanceof ce||(e=new ce(e.from).to(e.to,e));var n=this._defaultParams,i=this._duration;if(n)for(var o in n)"function"==typeof e[o]&&e[o](n[o]);var a="number"==typeof t?t:this.position.parseLabel(void 0!==t?t:"afterLast",null);return e._startTime=Math.max(this._startTime,e._delayTime,a),e._delayTime=a,e._isPlaying=!0,this._duration=Math.max(i,Math.max(e._startTime+e._delayTime,e._duration)),this._tweens.push(e),this.position.setLabel("afterLast",this._duration),this}},{key:"restart",value:function(){return this._startTime+=c(),n(this),this.emit(G)}},{key:"easing",value:function(e){return this.map((function(t){return t.easing(e)}))}},{key:"interpolation",value:function(e){return this.map((function(t){return t.interpolation(e)}))}},{key:"update",value:function(e){var t,r=this._tweens,n=this._duration,i=this._reverseDelayTime,s=this._startTime,l=this._reversed,h=this._yoyo,u=this._repeat,f=this._isFinite,d=this._isPlaying,p=this._prevTime,v=this._onStartCallbackFired,g=(e=void 0!==e?e:c())-p;if(this._prevTime=e,250<g&&o()&&a()&&(e-=g-P),!d||e<s)return!0;t=1<(t=(e-s)/n)?1:t,t=l?1-t:t,this.elapsed=t,v||(this.emit(I),this._onStartCallbackFired=!0);for(var m=e-s,y=l?n-m:m,x=0;x<r.length;)r[x].update(y),x++;if(this.emit(H,t,m),1===t||l&&0===t){if(u){for(f&&this._repeat--,this.emit(l?z:B),h&&(this._reversed=!l,this.timingOrder((function(e){return e.reverse()}))),this._startTime=l&&i?e+i:e,x=0;x<r.length;)r[x].reassignValues(e),x++;return!0}return this.emit(N),this._repeat=this._r,b(this),this._isPlaying=!1}return!0}},{key:"progress",value:function(e){return void 0!==e?this.update(e*this._duration):this.elapsed}}]),t}();t.Easing=k,t.FrameThrottle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:120;y=1.05*e},t.Interpolation=oe,t.Interpolator=function(e,t){var r=Array.isArray(e)&&!e.isString,n="string"==typeof e?e:r?e.slice():A({},e);if(r)for(var i=0,o=e.length;i<o;i++)e[i]===t[i]&&"number"==typeof e[i]&&"number"!=typeof t[i]||K(i,n,e,t);else if("object"===O(e))for(var a in e)e[a]===t[a]&&"number"==typeof e[a]&&"number"!=typeof t[a]||K(a,n,e,t);else if("string"==typeof e){e=Y(e),t=Y(t);for(var s=1;s<e.length;)e[s]===t[s]&&"string"==typeof e[s-1]?(e.splice(s-1,2,e[s-1]+e[s]),t.splice(s-1,2,t[s-1]+t[s])):s++}return function(i){if(r)for(var o=0,a=e.length;o<a;o++)J(o,n,e,t,i);else if("object"===O(n))for(var s in e)J(s,n,e,t,i);else"string"==typeof n&&(n=J(0,0,e,t,i,i,!0));return n}},t.Plugins=_,t.Selector=le,t.Timeline=pe,t.ToggleLagSmoothing=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];x=e},t.Tween=ce,t.add=n,t.autoPlay=function(e){p=e},t.get=i,t.getAll=function(){return f},t.has=function(e){return null!==i(e)},t.isRunning=o,t.now=c,t.onRequestTick=function(e){v.push(e)},t.onTick=function(e){return f.push({update:e})},t.remove=b,t.removeAll=function(){f.length=0,u(s),d=!1},t.update=w,t.utils=ie,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,r("pVi3"),r("eeCk"))},Fddr:function(e,t){var r=1e3,n=6e4,i=36e5,o=24*i;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return a(e,t,o,"day");if(t>=i)return a(e,t,i,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},GOFX:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return n}));var n=r("7iwg")},GsCz:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"Builder",(function(){return xe})),r.d(n,"Writer",(function(){return be})),r.d(n,"IO",(function(){return we}));var i=r("KdfE"),o=r("HUrS"),a=r("onMR"),s=r("GOFX"),l=r("19Mu"),h=Object(s.default)("glycanjs:searching"),u=e=>[].concat.apply([],e),c=function(e,t,r){return r.indexOf(e)===t},f=function(e,t,r){for(var n=null,i=[].concat(e),o=[].concat(r);n=i.shift();){var a=i.length>0;o=o.filter(t.bind(null,n)),a&&(o=o.map(e=>e.parent)),o=o.filter(e=>null!=e)}return o.map(e=>r.indexOf(e)).map(t=>r.slice(t-e.length+1,t+1))},d=function(e,t,r){var n=e.paths(),i=t.paths(),o=[],a=new WeakMap,s=e=>e.map(e=>e[e.length-1]);return i.forEach(e=>{var t=f.bind(null,e,r),i=n.map(t);o=o.concat(u(i.map(s))).filter(c),u(u(i)).filter(c).forEach(e=>{a.set(e,(a.get(e)||0)+1)})}),o.filter(e=>a.get(e)==t.leaves().length)},p=function(e,t,r){var n=Symbol("wildcard");h.info("Wildcard matching",e.sequence,t.sequence);var i=t.composition().filter(e=>"*"===e.identifier).map(e=>e.children.map(r=>{var n=r.toSugar(t.constructor);return n.linkage=e.linkageOf(r),n.parent_link=e.parent?e.parent.linkageOf(e):0,n})),o=t.clone();o.composition().filter(e=>"*"===e.identifier).forEach(e=>{e.children.map(t=>e.removeChild(e.linkageOf(t),t)),e.setTag(n,!0)}),h.info("Root sugar for wildcard matching",o.sequence),h.info("We have",i.length,"wildcard subtrees to ensure matches for"),i.forEach(e=>e.forEach(e=>{var t=new(0,e.constructor.Monosaccharide)("*");t.addChild(e.linkage,e.root),e.root=t,h.info("Wildcard subtree sequence:",e.sequence)}));var a=d(e,o,r),s=u(a.map(t=>e.trace(o,t,r)));h.info("RESULTS from matching Root sugar, total of",s.length,"trees matched"),s.forEach(e=>{h.info("RESULT Root sugar match sequence",e.sequence);var t=e.composition_for_tag(n)[0];h.info("The residue acting as wildcard is",t,"with parent",t.parent?t.parent.identifier:"(No root)")});var l=function(e,t){var r=new WeakMap;for(var n of e)for(var i of(h.info("For a Root tree match",n.sequence,"we are finding wildcard leaves"),n.leaves()))i.getTag(t)&&(r.set(i.original,n),h.info("Adding leaf",i.original.identifier," to tree mapping"),i.parent&&(r.set(i.parent.original,n),h.info("Adding leaf parent",i.parent.original.identifier," to tree mapping")));return r}(s,n),c=i.map(t=>t.map(t=>{var i=d(e,t,r);h.info("For subtree",t.sequence,"we matched roots",i.map(e=>e.identifier)),h.info("We should be able to match each of these roots with a Root sugar match"),i=i.filter(e=>!e.parent||0==t.parent_link||e.parent.linkageOf(e)==t.parent_link).map(t=>{h.info("The parents of ",t.identifier,t.parent," are being checked for being leaves of any root tree");var r=[...e.residues_to_root(t)];for(var n of r)if(l.get(n))return{root:t,parent_leaf:n}}).filter(e=>e),h.info("Number of subtrees that are a parent of a root match",i.length);var a=i.map(i=>{var a=e.trace(t,i.root,r),s=l.get(i.parent_leaf),u=o.composition_for_tag(n)[0],c=[];for(var f of(h.info("Matched after tracing",a),a)){var d=s.clone(),p=d.composition_for_tag(n)[0];f.root.original=u,p===d.root?d.root=f.root:(f.root.copyTagsFrom(p),p.parent.replaceChild(p,f.root,0)),c.push(d)}return c});return u(a)}));return h.info("Found",u(u(c)).length,"matching trees"),u(u(c))};var v=Symbol("cache_symbol"),g={type:"wildcard"},m={type:"fixed"},y={type:"composition"},x={type:"trace"};class b extends class{static search(e,t,r){return t.composition().filter(e=>"*"===e.identifier).length>0?this.search_wildcard_paths(e,t,r):this.search_fixed_paths(e,t,r)}static search_wildcard_paths(e,t,r){return p(e,t,r)}static search_fixed_paths(e,t,r){return d(e,t,r)}}{static get Cache(){return this[v]||(this[v]=new l.default),this[v]}static search(e,t,r){if(!Object.isFrozen(e)||!Object.isFrozen(t))return super.search(e,t,r);this.Cache.has([e,y])||this.Cache.set([e,y],e.composition().map(e=>e.identifier)),this.Cache.has([t,y])||this.Cache.set([t,y],t.composition().map(e=>e.identifier));var n=this.Cache.get([t,y]),i=this.Cache.get([e,y]);return n.every(e=>"*"===e||null!==i.find(t=>t===e))?super.search(e,t,r):[]}static search_wildcard_paths(e,t,r){if(!Object.isFrozen(e)||!Object.isFrozen(t))return super.search_wildcard_paths(e,t,r);var n=[e,t,r,g];return this.Cache.has(n)?this.Cache.get(n):(this.Cache.set(n,super.search_wildcard_paths(e,t,r)),this.Cache.get(n))}static search_fixed_paths(e,t,r){if(!Object.isFrozen(e)||!Object.isFrozen(t))return super.search_fixed_paths(e,t,r);var n=[e,t,r,m];return this.Cache.has(n)?this.Cache.get(n):(this.Cache.set(n,super.search_fixed_paths(e,t,r)),this.Cache.get(n))}}var w=(e,t,r,n)=>{if(!Object.isFrozen(e)||!Object.isFrozen(t))return e.trace(t,r,n);var i=[e,t,r,n,x],o=b.Cache;return o.has(i)||o.set(i,e.trace(t,r,n)),o.get(i).map(e=>e.clone())},_=e=>{for(var t=e;t.parent;){var r=t.parent.children,n=r[r.indexOf(t)+1];if(n)return n;t=t.parent}return null},k=function*(e){for(var t=[...e.depth_first_traversal()],r=0;r<t.length;){var n=t[r],i=_(n);i||(i=n);var o=t.indexOf(i),a=t.slice(r+1,o),s=t.slice(o===r?o+1:o);if(o===r)for(var l of s)yield{root:n,chord:[n,l]};else{for(var h of s)yield{root:e.root,chord:[n,h]};for(var u of a)yield{root:n,chord:[n,u]}}r+=1}},O=function*(e,t){if(t<2)throw new Error("Cannot expand chord set when n < 2");var r=[...k(e)],n=r.filter(t=>t.root===e.root&&t.chord[0]!==e.root),i={};for(var o of n)i[o.chord[0]]=i[o.chord[0]]||[],i[o.chord[0]].push(o.chord[1]);var a=0;for(var s of r)yield s;for(;a<t-2&&r.length>0;){var l=[];for(var h of r)for(var u of i[h.chord[h.chord.length-1]]||[])if(e.composition(h.root).indexOf(u)>=0){var c={root:h.root};c.chord=h.chord.concat(u),yield c,l.push(c)}r=l,a+=1}},C=function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t>=1&&(yield*e.depth_first_traversal(e.root,t=>({root:e.root,chord:[t]})),yield*e.depth_first_traversal(e.root,t=>t===e.root?null:{root:t,chord:[t]})),t>=2&&(yield*O(e,t))},T=Symbol("root"),S=function(e,t){for(var r=null;!(r=Object.getOwnPropertyDescriptor(e,t))&&Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return r},A=function(e,t,r){return r.indexOf(e)===t},M=(e,t)=>t.getTag(e),F=Symbol("frozen_sequence"),E=Symbol("frozen_composition");class j{constructor(){}set root(e){this[T]=e}get root(){return this[T]}static get Monosaccharide(){return i.default}freeze(){var e=this;for(var t of this.breadth_first_traversal())Object.freeze(t);this[F]=this.sequence,this[E]=this.composition(),Object.defineProperty(this,"composition",{value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.root;return t===e.root?e[E]:e.constructor.prototype.composition.call(e,t)}}),Object.defineProperty(this,"sequence",{get:()=>this[F]}),Object.freeze(this)}get repeats(){return this.composition(this.root).filter(e=>e instanceof o.default.Monosaccharide).map(e=>e.repeat).filter((e,t,r)=>r.indexOf(e)===t)}paths(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.leaves(e),r=this;return[].concat(t).map(e=>Array.from(r.residues_to_root(e)))}leaves(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;return this.composition(e).filter(e=>0===e.children.length)}locate_monosaccharide(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root,[,r,n]=e.match(/[a-zA-Z]+|[0-9]+/g);r=parseInt(r),n=n.charCodeAt(0)-"a".charCodeAt(0);var i=this.paths(t).map(e=>e.reverse()[r-1]).filter(e=>e).filter(A);return 1==i.length&&i[0]===t?t:i[n]}location_for_monosaccharide(e){var t=[...this.breadth_first_traversal()].filter(t=>t.depth===e.depth).indexOf(e);return"y"+e.depth+String.fromCharCode("a".charCodeAt(0)+t)}composition(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root,t=this;return e?[[e]].concat(e.children.map(e=>t.composition(e))).reduce((e,t)=>e.concat(t)):[]}composition_for_tag(e){return this.composition().filter(M.bind(null,e))}clone(e){var t=new WeakMap,r=new WeakMap,n=this.breadth_first_traversal(this.root,e);for(var a of n)if(!(a instanceof o.default.Monosaccharide&&a.repeat.root!==a)){t.has(a)||t.set(a,a.clone());var s=t.get(a);if(s instanceof o.default.Monosaccharide&&(r.set(a.repeat,s.repeat),t.set(a,s.repeat.root),s=t.get(a)),a.parent instanceof o.default.Monosaccharide&&a.parent.repeat.children.indexOf(a)>=0){var l=r.get(a.parent.repeat);new i.default("Root").addChild(a.parent.linkageOf(a),s),l.children=l.children.concat(s)}else a.parent&&t.get(a.parent)&&t.get(a.parent).addChild(a.parent.linkageOf(a),s)}var h=new this.constructor;return h.root=t.get(this.root),h}match_sugar_pattern(e,t){var r,n=b.search(this,e,t);return e.composition().map(e=>e.identifier).filter(e=>"*"===e).length>0?n:(r=n.map(r=>w(this,e,r,t)),[].concat.apply([],r))}trace(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>!0;return a.Tracer.trace(this,t,e,r)}*breadth_first_traversal(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;if(e){var r=[];for(r.push(e);r.length>0;){var n=r.shift();r=r.concat(n.children),t&&(n=t(n)),n&&(yield n)}}}*depth_first_traversal(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;if(e){var r=[];for(r.push(e);r.length>0;){var n=r.shift();r=n.children.concat(r);var i=t?t(n):n;i&&(yield i)}}}*chords(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;yield*C(this,e)}*residues_to_root(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;for(yield e;e.parent;)e=e.parent,yield e}static CopyIO(e){var t=this,r=S(e,"sequence").set,n=S(e,"sequence").get;return class extends t{get sequence(){return n.call(this)}set sequence(e){return r.call(this,e)}}}}var L=Symbol("comment_string"),P=Symbol("is_negative"),R=Symbol("reaction_sugar"),q=Symbol("reaction_position"),H=Symbol("reaction_position_string"),N=(e,t)=>{if(!e||!t)return!1;if("*"===e.identifier||"*"===t.identifier)return!0;var r=((e,t)=>e.identifier===t.identifier)(e,t),n=!1;return e.parent&&t.parent&&(n=0===e.parent.linkageOf(e)||0===t.parent.linkageOf(t)||e.parent.linkageOf(e)===t.parent.linkageOf(t)),e.parent||t.parent||(n=!0),r&&n},I=e=>class extends e{get sequence(){return super.sequence.replace(/Root/,"")}set sequence(e){return super.sequence=e,super.sequence}},B=function(e){return(e.match_sugar_pattern(this,N)||[]).map(e=>(e.composition_for_tag(this.attachment_tag)[0]||{}).original).filter(e=>e)},z=function(e){for(var t of B.call(this,e)){var r=this[R].clone();for(var n of r.root.children)t.graft(n)}},G=function(e){var t=[],r=Symbol("attach");for(var n of B.call(this,e)){var i=this[R].clone();n.setTag(r,!0);var o=e.clone(),a=o.composition_for_tag(r)[0];for(var s of i.root.children)a.graft(s);n.setTag(r,null),a.setTag(r,null),t.push(o)}return t},D=function(e,t){var r=this.delta;return e.filter(e=>0==t.trace(r,e,N).length)};class V extends j{set comment(e){this[L]=e,(e=>{var t=e[L],r=!1;0===t.indexOf("!")&&(t=t.substring(1),r=!0);var[n,i]=t.split("@");n=n.replace(/[{}]/g,"");var o=new(I(j.CopyIO(e)));if(e[P]=r,o.sequence=n,e[R]=o,e[q]=((e,t)=>e.locate_monosaccharide(t))(e,i),!e[q])throw new Error("Cannot locate attachment point");e[H]=i,e.attachment_tag=Symbol("attachment"),e[q].setTag(e.attachment_tag)})(this),this.freeze(),this.delta.freeze()}get comment(){if(!this.delta)return this[L]}get delta(){return this[R]}get negative(){return this[P]}tagSubstrateResidues(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Symbol("substrate"),r=B.call(this,e);if(this.negative){var n=D.call(this,r,e);r=r.filter(e=>n.indexOf(e)<0)}return r.forEach(e=>e.setTag(t)),t}tagAvailableSubstrateResidues(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Symbol("substrate"),r=B.call(this,e),n=D.call(this,r,e);return(r=r.filter(e=>n.indexOf(e)<0)).forEach(e=>e.setTag(t)),t}worksOn(e){var t=B.call(this,e);return t.length<1?this.negative||!1:!this.negative||D.call(this,t,e).length>0}execute(e){return z.call(this,e)}generate(e){return G.call(this,e)}}V.Comparator=N;var U=V,X=Symbol("reactions"),W=Symbol("reactionset"),Y=Object(s.default)("glycanjs:reactionset"),K=e=>t=>t.setTag(e,null),$=e=>t=>e.indexOf(t)<0,Z=(e,t,r)=>r.indexOf(e)===t,J=(e,t)=>{if(!e||!t)return!1;if("*"===e.identifier||"*"===t.identifier)return!0;var r=((e,t)=>e.identifier===t.identifier)(e,t),n=!1;return e.parent&&t.parent&&(n=e.parent.linkageOf(e)===t.parent.linkageOf(t)),e.parent||t.parent||(n=!0),r&&n},Q=function(e,t){var r=this.delta;return e.map(e=>{var n=w(t,r,e,J);return n=n.filter((e=>t=>t.root.original===e)(e))}).filter(e=>e.length>0)},ee=function(e){var t=[];for(var r of this.positive){var n=r.tagSubstrateResidues(e),i=e.composition_for_tag(n);i.forEach(K(n)),t=t.concat(i)}if(t.length<1)return t;for(var o of this.negative){var a=o.tagSubstrateResidues(e),s=e.composition_for_tag(a);if(s.forEach(K(a)),(t=t.filter($(s))).length<1)return t}return t};class te{constructor(){this[X]=[]}get delta(){return this.positive[0].delta}get positive(){return this[X].filter(e=>!e.negative)}get negative(){return this[X].filter(e=>e.negative)}addReactionRule(e){this[X].push(e)}tagSubstrateResidues(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Symbol("substrate");for(var r of ee.call(this,e))r.setTag(t);return t}tagAvailableSubstrateResidues(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Symbol("substrate"),r=ee.call(this,e),n=Q.call(this,r,e);n=(n=[].concat.apply([],n)).map(e=>e.root.original);var i=r.filter(e=>n.indexOf(e)<0);for(var o of i)!o.parent&&o.children.length>0&&o.linkageOf(o.children[0])<0||o.setTag(t);return t}worksOn(e){return ee.call(this,e).length>0}execute(){}generate(){}}var re,ne,ie=(e,t,r)=>{if(!(r.length<1)){var n=new te;for(var i of r){var o=null;t.has(i)?o=t.get(i):((o=new e).sequence=i,t.set(i,o)),n.addReactionRule(o)}return n}},oe=new Map;class ae{constructor(){this[W]=[]}static groupFromJSON(e,t){var r=new this,n=U.CopyIO(new t);for(var i of Object.keys(e))if(e[i].reactions.length>0)for(var o of e[i].reactions.map(ie.bind(null,n,oe)))o&&r.addReactionSet(o);return r}get reactions(){return this[W]}addReactionSet(e){return this[W].indexOf(e)<0&&this[W].push(e),e}tagSubstrateResidues(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.reactions,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Symbol("substrate");for(var n of t)n.tagSubstrateResidues(e,r);return r}tagAvailableSubstrateResidues(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.reactions,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Symbol("substrate");for(var n of t)n.tagAvailableSubstrateResidues(e,r);return r}supportsLinkageAt(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.reactions,o=[],a=[],s=[];if(!t){for(var l of i){if(e.composition_for_tag(l.tagAvailableSubstrateResidues(e)).length>0){var h=l.delta.root.children[0],u=l.delta.root.linkageOf(h);o.push(u),s.push(h.identifier),a.push(h.anomer)}}return a=a.filter(Z),o=o.filter(Z),s=s.filter(Z),{anomer:a,linkage:o,donor:s}}var c=this.reactions.filter(e=>{var r=e.delta.root.children[0],n=e.delta.root.linkageOf(r),i=!t||r.identifier===t;return i&&(o.push(n),a.push(r.anomer)),i}),f=c;if(a=a.filter(Z),o=o.filter(Z),Y.info("Remaining reactions after filtering by donor",c.length),c.length<1||void 0===r&&void 0===n)return c.length>0?{anomer:a,linkage:o}:{anomer:[],linkage:[]};if(void 0!==r){var d=f.filter(e=>{var t=e.delta.root.children[0],n=e.delta.root.linkageOf(t);return 0===n||n===r});if(f=d,Y.info("Remaining reactions after filtering by linkage",d.length),d.length<1)return d.length>0?{anomer:a,linkage:[r]}:{anomer:["a","b"],linkage:[]}}o=[],a=[];var p=[];for(var v of f){if(e.composition_for_tag(v.tagAvailableSubstrateResidues(e)).indexOf(n)>=0){var g=v.delta.root.children[0],m=v.delta.root.linkageOf(g);o.push(m),a.push(g.anomer),p.push(g.anomer+m)}}return a=a.filter(Z),(o=o.filter(Z)).length>0&&a.length>0&&n?{anomer:a,linkage:o,anomerlinks:p,substrate:[n]}:{anomer:a,linkage:o,substrate:[]}}supportLinkages(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.reactions,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Symbol("with_support"),n=new WeakMap;for(var i of t){n.has(i)||n.set(i,{substrate:Symbol("substrate"),residue:Symbol("residue")}),i.tagSubstrateResidues(e,n.get(i).substrate);var o=e.composition_for_tag(n.get(i).substrate),a=Q.call(i,o,e).map(e=>{var t=e[0];return t.composition(t.root.children[0]).map(e=>e.original)});for(var s of[].concat.apply([],a))s.setTag(n.get(i).residue),s.setTag(r)}return this.map=n,r}}var se=e=>{if(e<0){if(e===i.default.LINKAGES.O)return"O";if(e===i.default.LINKAGES.N)return"N"}return e<=0?"?":""+e},le=e=>i.default.LINKAGES[e]?i.default.LINKAGES[e]:"?"==e?0:parseInt(e),he=(e,t)=>new(0,e.constructor.Monosaccharide)(t);re=(e,t)=>{var r=t.shift();if(!r)throw new Error("Empty branch");var[n,i]=r.split("("),o=he(e,n);return ne(e,o,t),[o,i]},ne=(e,t,r)=>{for(var n=[],i=(e,t)=>e.addChild(t[0],t[1]);r.length>0;){var o=r.shift();if("]"==o){var[a,s]=re(e,r),[l,h,,u]=(s||"").split("");a.anomer=l,a.parent_linkage=le(h),n.push([le(u),a])}else{if("["==o)return n.reverse().forEach(i.bind(null,t)),void(n.length=0);var[c,f]=o.split("("),[d,p,,v]=(f||"").split(""),g=he(e,c);g.anomer=d,g.parent_linkage=le(p),t.addChild(le(v),g),n.reverse().forEach(i.bind(null,t)),n.length=0,t=g}}};var ue=function(e){return e.split("").reverse().join("")},ce=e=>t=>t.identifier==="Repeat".concat(e),fe=function(e){var t="";[,e,t]=e.match(/([^\+]+)(?:\+(\".+\"))*/),t=(t||"").replace(/^"/,"").replace(/"$/,"");for(var r,n=/{([^}@]+)(?:@([a-z]\d+[a-z]))?}([a-z]|\d+)/g,i=0,a={},s=e;null!==(r=n.exec(e));)s=s.replace(r[0],"Repeat".concat(++i,"(u?-?)")),a[i]={seq:r[1],attachment:r[2],variable:r[3]};(e=s).match(/[\]\)]$/)&&(e="".concat(e,"Root"));var l=(e+=")").split(/([\[\]])/);l=l.map(e=>e.split(/\)(?=[A-Za-z\*])/).reverse().join(")")).map(e=>e.match(/\d$/)?e+")":e),l=[].concat.apply([],l.map(e=>ue(e).split(")").filter(e=>e.length).map(ue))).reverse();var h=he(this,l.shift());return ne(this,h,l),this.root=h,((e,t)=>{var r=e.composition();for(var n of Object.keys(t)){var i=r.filter(ce(n)).shift();if(i){var a=t[n].seq,s=1,l="";t[n].variable.match(/^\d+$/)&&(l=""+(s=parseInt(t[n].variable))),t[n].variable.match(/[a-z]/)&&(l=t[n].variable);var h=new(0,e.constructor);h.sequence=a;var u=t[n].attachment;if(!u){for(var c=h.root;c.children&&c.children.length>0;)c=c.children[0];u=h.location_for_monosaccharide(c)}var f=new o.default(h,u,1,s);l&&(f.identifier=l);var d=i.parent;d.removeChild(d.linkageOf(i),i),d.graft(f.root),i.children.length>0&&(f.children=i.children)}}})(this,a),t&&(this.comment=t),h},de=e=>{var t=e.toString();if(e instanceof o.default.Monosaccharide){if(e.repeat.mode===o.default.MODE_MINIMAL)return"{".concat(e.repeat.template.sequence.replace(/\([a-z]\d+-$/,""));if(e.repeat.mode===o.default.MODE_EXPAND)return"".concat(t)}return t},pe=e=>e.parent?"("+e.anomer+se(e.parent_linkage)+"-":"",ve=function(e){var t=e[0];return e[1].map(e=>[t,e])},ge=e=>e instanceof o.default.Monosaccharide&&e.repeat.root===e&&e.repeat.mode===o.default.MODE_MINIMAL?(e.repeat.off_main?"@".concat(e.repeat.attachment):"")+"}".concat(e.repeat.identifier):"",me=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;if(t){var r=[];if(t instanceof o.default.Monosaccharide&&t.repeat.mode===o.default.MODE_MINIMAL&&t.repeat.root===t){var n=t.repeat.children;r=n.length>0?[].concat.apply([],[...n[0].parent.child_linkages].map(e=>{var[t,r]=e;return[t,r.filter(e=>!(e instanceof o.default.Monosaccharide))]}).sort((e,t)=>e[0]-t[0]).map(ve)):[]}else r=[].concat.apply([],[...t.child_linkages].sort((e,t)=>e[0]-t[0]).map(ve));var i=""+r.map(t=>e.call(this,t[1])+se(t[0])+")"+ge(t[1])).reduce((e,t)=>e?e+"["+t+"]":t,""),a=i+de(t)+pe(t);return t===this.root&&this.comment?"".concat(a,'+"').concat(this.comment,'"'):a}},ye=function(e,t){for(var r=null;!(r=Object.getOwnPropertyDescriptor(e,t))&&Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return r},xe=function(e){var t=(ye(e.prototype,"sequence")||{get:null}).get,r=function(e){fe.call(this,e)},n={};return t&&(n.get=t),r&&(n.set=r),Object.defineProperty(e.prototype,"sequence",n),class extends e{}},be=function(e){var t=(ye(e.prototype,"sequence")||{set:null}).set,r=function(){return me.call(this,this.root)},n={};return r&&(n.get=r),t&&(n.set=t),Object.defineProperty(e.prototype,"sequence",n),class extends e{}},we=e=>xe(be((e=>class extends e{})(e)));function _e(e,t,r,n){this._bounds=e,this.children=[],this.nodes=[],n&&(this._maxChildren=n),r&&(this._maxDepth=r),t&&(this._depth=t)}function ke(e,t,r,n){_e.call(this,e,t,r,n),this._stuckChildren=[]}function Oe(e,t,r,n){var i;i=t?new _e(e,0,r,n):new ke(e,0,r,n),this.root=i}_e.prototype.nodes=null,_e.prototype._classConstructor=_e,_e.prototype.children=null,_e.prototype._bounds=null,_e.prototype._depth=0,_e.prototype._maxChildren=4,_e.prototype._maxDepth=4,_e.TOP_LEFT=0,_e.TOP_RIGHT=1,_e.BOTTOM_LEFT=2,_e.BOTTOM_RIGHT=3,_e.prototype.insert=function(e){if(this.nodes.length){var t=this._findIndex(e);this.nodes[t].insert(e)}else{this.children.push(e);var r=this.children.length;if(this._depth<this._maxDepth&&r>this._maxChildren){var n;for(this.subdivide(),n=0;n<r;n++)this.insert(this.children[n]);this.children.length=0}}},_e.prototype.retrieve=function(e){if(this.nodes.length){var t=this._findIndex(e);return this.nodes[t].retrieve(e)}return this.children},_e.prototype._findIndex=function(e){var t=this._bounds,r=!(e.x>t.x+t.width/2),n=!(e.y>t.y+t.height/2),i=_e.TOP_LEFT;return r?n||(i=_e.BOTTOM_LEFT):i=n?_e.TOP_RIGHT:_e.BOTTOM_RIGHT,i},_e.prototype.subdivide=function(){var e=this._depth+1,t=this._bounds.x,r=this._bounds.y,n=this._bounds.width/2,i=this._bounds.height/2,o=t+n,a=r+i;this.nodes[_e.TOP_LEFT]=new this._classConstructor({x:t,y:r,width:n,height:i},e,this._maxDepth,this._maxChildren),this.nodes[_e.TOP_RIGHT]=new this._classConstructor({x:o,y:r,width:n,height:i},e,this._maxDepth,this._maxChildren),this.nodes[_e.BOTTOM_LEFT]=new this._classConstructor({x:t,y:a,width:n,height:i},e,this._maxDepth,this._maxChildren),this.nodes[_e.BOTTOM_RIGHT]=new this._classConstructor({x:o,y:a,width:n,height:i},e,this._maxDepth,this._maxChildren)},_e.prototype.clear=function(){this.children.length=0;var e,t=this.nodes.length;for(e=0;e<t;e++)this.nodes[e].clear();this.nodes.length=0},ke.prototype=new _e,ke.prototype._classConstructor=ke,ke.prototype._stuckChildren=null,ke.prototype._out=[],ke.prototype.insert=function(e){if(this.nodes.length){var t=this._findIndex(e),r=this.nodes[t];e.x>=r._bounds.x&&e.x+e.width<=r._bounds.x+r._bounds.width&&e.y>=r._bounds.y&&e.y+e.height<=r._bounds.y+r._bounds.height?this.nodes[t].insert(e):this._stuckChildren.push(e)}else{this.children.push(e);var n=this.children.length;if(this._depth<this._maxDepth&&n>this._maxChildren){var i;for(this.subdivide(),i=0;i<n;i++)this.insert(this.children[i]);this.children.length=0}}},ke.prototype.getChildren=function(){return this.children.concat(this._stuckChildren)},ke.prototype.retrieve=function(e){var t=this._out;if(t.length=0,this.nodes.length){var r=this._findIndex(e),n=this.nodes[r];e.x>=n._bounds.x&&e.x+e.width<=n._bounds.x+n._bounds.width&&e.y>=n._bounds.y&&e.y+e.height<=n._bounds.y+n._bounds.height?t.push.apply(t,this.nodes[r].retrieve(e)):(e.x<=this.nodes[_e.TOP_RIGHT]._bounds.x&&(e.y<=this.nodes[_e.BOTTOM_LEFT]._bounds.y&&t.push.apply(t,this.nodes[_e.TOP_LEFT].getAllContent()),e.y+e.height>this.nodes[_e.BOTTOM_LEFT]._bounds.y&&t.push.apply(t,this.nodes[_e.BOTTOM_LEFT].getAllContent())),e.x+e.width>this.nodes[_e.TOP_RIGHT]._bounds.x&&(e.y<=this.nodes[_e.BOTTOM_RIGHT]._bounds.y&&t.push.apply(t,this.nodes[_e.TOP_RIGHT].getAllContent()),e.y+e.height>this.nodes[_e.BOTTOM_RIGHT]._bounds.y&&t.push.apply(t,this.nodes[_e.BOTTOM_RIGHT].getAllContent())))}return t.push.apply(t,this._stuckChildren),t.push.apply(t,this.children),t},ke.prototype.getAllContent=function(){var e,t=this._out;if(this.nodes.length)for(e=0;e<this.nodes.length;e++)this.nodes[e].getAllContent();return t.push.apply(t,this._stuckChildren),t.push.apply(t,this.children),t},ke.prototype.clear=function(){this._stuckChildren.length=0,this.children.length=0;var e=this.nodes.length;if(e){var t;for(t=0;t<e;t++)this.nodes[t].clear();this.nodes.length=0}},Oe.prototype.root=null,Oe.prototype.insert=function(e){if(e instanceof Array){var t,r=e.length;for(t=0;t<r;t++)this.root.insert(e[t])}else this.root.insert(e)},Oe.prototype.clear=function(){this.root.clear()},Oe.prototype.retrieve=function(e){return this.root.retrieve(e).slice(0)};var Ce=Oe,Te=Object(s.default)("glycanjs:condensedlayout"),Se=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{dx:0,dy:0,r:.5},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.DELTA_Y,o=this.DELTA_X;if(r.collision=[],t.children.length>1&&!r.spread_count&&(r.spread_count=t.children.length,r.spread=1),!t.parent)return r;if(r.dy=-1*i,r.dx=0,!r.item_index&&n.spread_count){var a=t.parent.children;r.item_index=a.indexOf(t)+1}return n.spread&&(r.dy=-1*n.spread*i,r.dx=n.spread*o*(r.item_index-1-Math.floor(n.spread_count/2)+.5*(1-n.spread_count%2))),(!n.spread||n.spread<2)&&(r.dy+=-1*r.r),n.grid_spread&&(r.dx=o*r.item_index),r},Ae=e=>{var t=e.map(e=>e.position.x),r=Math.min(...t),n=Math.max(...t)-r,i=Math.min(...t),o=Math.max(...t)-i,a=new Ce({x:r,y:i,width:n,height:o});for(var s of e.map((e,t)=>Object.assign({idx:t},e.position)))s.ignore_overlap||a.insert(s);for(var l=0;l<e.length;l++)if(!e[l].position.ignore_overlap){var h=e[l].position,u=a.retrieve(h);for(var c of u)if(c.idx!==l){var f=e[c.idx].position;if(!(f.collision.indexOf(h)>=0&&h.collision.indexOf(f)>=0)){var d=h.x-f.x,p=h.y-f.y,v=h.r+f.r;d*d+p*p<v*v&&(f.collision.push(h),h.collision.push(f))}}}},Me=(e,t)=>{return!t.parent&&1==t.children.length&&t.linkageOf(t.children[0])<0?(r=e.get(t),t.identifier,r.x=-1*r.r,r.y=1,r.width=2*r.r,r.height=2*r.r,{position:e.get(t),item:t}):(((e,t)=>{e.x=-1*e.r,e.y=-1*e.r,e.width=2*e.r,e.height=2*e.r,t&&(e.x+=t.x+t.width/2+e.dx,e.y+=t.y+t.height/2+e.dy)})(e.get(t),t.parent?e.get(t.parent):null),Te.info("Position for",t.identifier,e.get(t).x,e.get(t).y),{position:e.get(t),item:t});var r},Fe=(e,t)=>!e[t],Ee=(e,t)=>e.get(t),je=(e,t)=>[...e.residues_to_root(t)],Le=class{static get DELTA_X(){return this.LINKS,1}static get DELTA_Y(){return this.LINKS?1:.5}static LayoutMonosaccharide(e,t,r,n){return Se.call(this,e,t,r,n)}static CalculateIdentifier(e){return e.identifier.toLowerCase()}static PerformLayout(e){for(var t=new WeakMap,r=[...e.breadth_first_traversal()],n=20;n>=0;){for(var i of(Te.info("Looping to resolve overlaps on loop",n--),r)){var o=t.has(i)?t.get(i):void 0,a=i.parent&&t.has(i.parent)?t.get(i.parent):void 0;t.set(i,this.LayoutMonosaccharide(e,i,o,a,t))}var s=r.map(Me.bind(null,t));Ae(s);var l=s.filter(e=>e.position.collision.length>0).map(e=>e.item),h=new WeakMap;for(var u of l)h.set(t.get(u),u);if(l.length<1){Te.info("No overlaps to resolve - breaking");break}var c=new WeakMap;for(var f of l){var d=[].concat.apply([],t.get(f).collision.map(Ee.bind(null,h)).map(je.bind(null,e)));for(var p of(Te.info(f.identifier,"collides with",d[0].identifier,"at",t.get(f).x,t.get(f).y,t.get(f).collision.map(e=>[e.x,e.y]),"which is a child of",d.map(e=>e.identifier)),e.residues_to_root(f)))if(p!==f&&(c.has(p)||c.set(p,[]),d.indexOf(p)>=0)){Te.info("Overlap root of",p.identifier,"for",f.identifier),c.get(p).push(f);break}}var v={};for(var g of[].concat(r).reverse())if(c.has(g)){var m=c.get(g).filter(Fe.bind(null,v));for(var y of m)v[y]=!0;m.length>0&&(t.get(g).spread=t.get(g).spread+1,Te.info("Increasing spread for",g.identifier,"to",t.get(g).spread))}}if(Te.enabled)for(var x of(Te.info("Done layout for",e.sequence),r))Te.info("Laid out",x.identifier,t.get(x));return t}};Le.LINKS=!0;var Pe=Le,Re=e=>"HSO3"!==e.identifier;var qe=class extends Pe{static CalculateIdentifier(e){var t=e.identifier.toLowerCase(),r=e.parent?e.parent.linkageOf(e):null;r===i.default.LINKAGES.N&&(r="N"),r===i.default.LINKAGES.O&&(r="O");var n=e.parent&&"hso3"===t&&r?"."+r:"";return"".concat(t).concat(n)}static get DELTA_X(){return 1.25*super.DELTA_X}static get DELTA_Y(){return 1.25*super.DELTA_Y}static LayoutMonosaccharide(e,t,r,n,o){var a=this.DELTA_Y,s=this.DELTA_X;r=Pe.LayoutMonosaccharide.call(this,e,t,r,n);var l=t.siblings;if(1==l.filter(Re).length&&("Fuc"==t.identifier||"NeuAc"==t.identifier))return"NeuAc"==t.identifier&&"Fuc"==l.filter(Re)[0].identifier?(r.dx=0,r.dy=-1*a,r.dy-=r.r,r):(r.dy=0,r.dx=[2,3].indexOf(t.parent.linkageOf(t))>=0?-1*s:s,"Fuc"==t.identifier?(r.rotate=r.dx<0?90:-90,r):(this.LINKS&&(r.dx+=(r.dx<0?-1:1)*s/4),r));if("PI"===t.identifier&&(r.r=.75),"GlcN"===t.identifier&&"PI"===t.parent.identifier)return r.dx=.5*s,r;if("EtNP"===t.identifier){var h=t.parent.linkageOf(t);2===h&&(r.dy=0,r.dx=-.66*s),6===h&&1===t.parent.children.length&&(r.dy=-1.1*a,r.dx=0),6===h&&t.parent.children.length>1&&(r.dx=.66*s,r.dy=0),r.ignore_overlap=!0}if("HSO3"===t.identifier){r.r=.25*s;var u=t.parent.linkageOf(t);return 2!==u&&6!==u&&u!==i.default.LINKAGES.N||(r.dy=.5*a,r.dx=.5*s,2!==u&&u!==i.default.LINKAGES.N||(r.dx*=-1)),3!==u&&4!==u||(r.dy=-.5*a,r.dx=.5*s,3===u&&(r.dx*=-1)),this.LINKS&&(r.dx+=(r.dx<0?-1:1)*s/4),r.ignore_overlap=!0,r}if(1==l.length&&"P"===t.identifier)return r.dy=0,r.dx=t.parent.linkageOf(t)>=0?s:-1*s,this.LINKS&&(r.dx+=(r.dx<0?-1:1)*s/4),r;if(1==l.length&&"GlcNAc"===t.identifier&&"GlcNAc"==l[0].identifier)return 3===t.parent.linkageOf(t)&&(r.dx=0),r;if(0==l.filter(Re).filter(e=>["Fuc","NeuAc"].indexOf(e.identifier)<0).length&&l.filter(Re).filter(e=>["Fuc","NeuAc"].indexOf(e.identifier)>=0).length<=1&&(r.dx=0),1===l.length&&["P","HSO3","EtNP"].indexOf(l[0].identifier)>=0&&(r.dx=0),2===l.length&&[t].concat(l).map(e=>e.identifier).indexOf("Fuc")>=0&&[t].concat(l).map(e=>e.identifier).indexOf("HSO3")>=0&&["Fuc"].indexOf(t.identifier)>=0)return r.dy=0,r.dx=t.parent.linkageOf(t)>=4?s:-1*s,"Fuc"==t.identifier&&(r.rotate=r.dx<0?90:-90),this.LINKS&&(r.dx+=(r.dx<0?-1:1)*s/4),r;if("Man"===t.identifier&&t.siblings.length>0){var c=t.siblings.map(e=>o.get(e)).filter(e=>e).map(e=>e.spread).filter(e=>e);r.spread&&c.push(r.spread);var f=Math.max(...c);if(isFinite(f)){for(var d of t.siblings)d.children.length>0&&o.get(d)&&(o.get(d).spread=f);r.spread=f}}return r}};class He extends(we(j)){}var Ne=(e,t)=>!(!e||!t)&&e.identifier===t.identifier,Ie=new He;Ie.sequence="Man(a1-3)[Man(a1-6)]Man(b1-4)GlcNAc(b1-4)GlcNAc";var Be=new He;Be.sequence="Gal(b1-3)GalNAc";var ze,Ge,De=class extends qe{static LayoutMonosaccharide(e,t,r,n,i){var o=2*this.DELTA_Y,a=this.DELTA_X;if(r=qe.LayoutMonosaccharide.call(this,e,t,r,n,i),!t.parent)return r;var s=e.match_sugar_pattern(Ie,Ne);if(s.length>0&&s[0].composition().map(e=>e.original).indexOf(t)>=0)return r;if((s=e.match_sugar_pattern(Be,Ne)).length>0){if("GlcNAc"===t.identifier&&3===t.parent.linkageOf(t)&&0===t.siblings.length)return r;var l=s[0].composition().map(e=>e.original);if(l.indexOf(t)>=0)return r;if(t.siblings.filter(e=>l.indexOf(e)>=0).length>0)return r}var h=t.parent.linkageOf(t),u="Fuc"===t.identifier;switch(h){case 0:r.dx=0,r.dy=-1*o;break;case 2:r.dx=-1*a,r.dy=0;break;case 3:r.dx=-1*a,r.dy=-1*o,u&&(r.rotate=90);break;case 4:r.dx=0,r.dy=-1*o,u&&(r.rotate=180);break;case 6:r.dx=1*a,r.dy=-1*o,u&&(r.rotate=225);break;case 8:r.dx=1*a,r.dy=0}return r}},Ve=Object(s.default)("glycanjs:fisheyelayout"),Ue=3,Xe=[-100,-3],We=!0;function Ye(){ze=(ze=Math.exp(Ue))/(ze-1)*2,Ge=Ue/2}function Ke(e){var t=e.x-Xe[0],r=e.y-Xe[1],n=Math.sqrt(t*t+r*r);if(!n||n>=2)return{x:e.x,y:e.y,z:n>=2?1:10};var i=ze*(1-Math.exp(-n*Ge))/n*.75+.25;return{x:Xe[0]+t*i,y:Xe[1]+r*i,z:Math.min(i,10)}}Ye();var $e=e=>class extends e{static get focus(){return[].concat(Xe)}static set focus(e){Xe[0]=e[0],Xe[1]=e[1],Ye()}static get zoom(){return Ue}static set zoom(e){Ue=e,Ye()}static get lock_residues(){return We}static set lock_residues(e){We=e}static PerformLayout(t){Ve("Performing FishEyeLayout");var r=e.PerformLayout.call(this,t);for(var n of t.composition()){var i=r.get(n),[o,a,s,l]=[i.x,i.y,i.width,i.height],h=Ke({x:o+s/2,y:a+l/2}),u=Ke({x:o+s/2,y:a+l}),c=Ke({x:o+s,y:a+l/2}),f=Math.max(2*(u.y-h.y),2*(c.x-h.x));We?(i.x=i.x-(f-s)/2,i.y=i.y-(f-l)/2):(i.x=h.x-f/2,i.y=h.y-f/2),i.z=h.z,i.width=f,i.height=f}return r}},Ze=$e(qe),Je=r("YmBN"),Qe=r("nCIn"),et=Symbol("C"),tt=Symbol("H"),rt=Symbol("O"),nt=Symbol("N"),it=Symbol("P"),ot=Symbol("S"),at=new Map;at.set(et,12),at.set(tt,1.007825035),at.set(rt,15.99491463),at.set(nt,14.003074);var st=e=>{var t=[];for(var r of e.split(";")){var[n,i]=r.split(":");switch(i=parseInt(i),n){case"C":n=et;break;case"H":n=tt;break;case"O":n=rt;break;case"N":n=nt;break;case"P":n=it;break;case"S":n=ot}t=t.concat(Array(i).fill(n))}return t},lt=(()=>{var e={};for(var t of"\nterminii:r1:x;2:x;3:x;4:x\nname:P\ntype:ion\ncomposition:P:1;H:2;O:3\n\nterminii:r1:x;2:x;3:x;4:x\nname:S\ntype:ion\ncomposition:S:1;H:1;O:3\n\nterminii:r1:HOH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:OH\nname:Gal\ntype:Hex\n\nterminii:r1:HOH;2eq:OH;3eq:OH;4eq:OH;5eq:-;6eq:OH\nname:Hex\ncomposition:C:6;H:10;O:5\n\nterminii:r1:HOH;2eq:OH;3eq:OH;4eq:OH;5eq:-;6eq:OH\nname:Glc\ntype:Hex\n\nterminii:r1:HOH;2eq:NAc;3eq:OH;4ax:OH;5eq:-;6eq:OH\nname:GalNAc\ntype:HexNAc\n\nterminii:r1:HOH;2eq:NAc;3eq:OH;4eq:OH;5eq:-;6eq:OH\nname:HexNAc\ncomposition:C:8;H:13;N:1;O:5\n\nterminii:r1:HOH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:OH\nname:HexA\ncomposition:C:6;H:8;O:6\n\nterminii:r1:HOH;2eq:NAc;3eq:OH;4eq:OH;5eq:-;6eq:OH\nname:GlcNAc\ntype:HexNAc\n\nterminii:r2:HOH;1ax:COOH;3ax:H;4eq:OH;5eq:NHAc;6eq:-;7:OH;8:OH;9:OH\nname:NeuAc\ntype:NeuAc\ncomposition:C:11;H:17;N:1;O:8\n\nterminii:r2:HOH;1ax:COOH;3ax:H;4eq:OH;5eq:NHGc;6eq:-;7:OH;8:OH;9:OH\nname:NeuGc\ntype:NeuGc\ncomposition:C:11;H:17;N:1;O:9\n\nterminii:r1:HOH;2eq:OH;3ax:OH;4eq:OH;5eq:-;6eq:OH\nname:Man\ntype:Hex\n\nterminii:r1:HOH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:OH\nname:Galf\ntype:Hex\n\nterminii:r1:HOH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:OH\nname:GlcA\ntype:HexA\n\nterminii:r1:HOH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:OH\nname:IdoA\ntype:HexA\n\nterminii:r1:HOH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:OH\nname:Fuc\ntype:dHex\n\nterminii:r1:HOH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:OH\nname:Rha\ntype:dHex\n\nterminii:r1:HOH;2eq:OH;3eq:OH;4ax:OH;5eq:-;6eq:OH\nname:dHex\ncomposition:C:6;H:10;O:4\n\nterminii:r1:HOH;2eq:OH;3eq:OH;4ax:-;5eq:OH\nname:Pent\ncomposition:C:5;H:8;O:4\n\nterminii:r1:HOH;2eq:OH;3eq:OH;4ax:-;5eq:OH\nname:Xyl\ntype:Pent\n\nterminii:r1:HOH;2eq:OH;3eq:OH;4ax:-;5eq:OH\nname:Ara\ntype:Pent\n\nterminii:r1:H\nname:Me\ntype:alkyl\ncomposition:C:1;H:3\n".replace(/^\n/,"").split("\n\n")){var r={};for(var n of t.split("\n")){var[i,o]=n.split(/^([^\:]+)\:/).slice(1);switch(i){case"name":r.name=o;break;case"terminii":break;case"type":r.type=o;break;case"composition":r.composition=st(o)}}e[r.name]=r}return e})(),ht=e=>{var t=lt[e];return t&&t.type&&(t=lt[t.type]),t?t.composition.map(e=>at.get(e)).reduce((e,t)=>e+t,0):0},ut=e=>{class t extends e.Monosaccharide{get mass(){return ht(this.identifier)}get proto(){return(lt[this.identifier]||{}).type}}return class extends e{static get Monosaccharide(){return t}get mass(){return 2*at.get(tt)+at.get(rt)+this.composition().map(e=>e.mass).reduce((e,t)=>e+t,0)}}},ct=at.get(et),ft=at.get(tt),dt=at.get(rt),pt=(e,t,r)=>e<=r&&0===t||(e<=t||e>r)&&0!==t,vt={MONOISOTOPICMASS:0,AVERAGEMASS:1},gt={Hex:{"0,2":[120.0422584,120.10512,162.0892084,162.18576],"1,3":[60.0211292,60.05256,88.0524292,88.10632],"2,4":[60.0211292,60.05256,88.0524292,88.10632],"1,5":[134.0579084,134.132,190.1205084,190.23952],"3,5":[74.0367792,74.07944,102.0680792,102.1332],"0,4":[60.0211292,60.05256,74.0367792,74.07944],"3,4":[30.0105646,30.02628,44.0262146,44.05316]},HexNAc:{"0,2":[120.0422584,120.10512,162.0892084,162.18576],"1,3":[101.0476782,101.10512,129.0789782,129.15888],"2,4":[60.0211292,60.05256,88.0524292,88.10632],"1,5":[175.0844574,175.18456,231.1470574,231.29208],"3,5":[74.0367792,74.07944,102.0680792,102.1332],"0,4":[60.0211292,60.05256,74.0367792,74.07944],"3,4":[30.0105646,30.02628,44.0262146,44.05316]},Pent:{"0,2":[90.0316938,90.07884,118.0629938,118.1326],"1,3":[60.0211292,60.05256,88.0524292,88.10632],"2,4":[60.0211292,60.05256,88.0524292,88.10632],"1,5":[104.0473438,104.10572,146.0942938,146.18636],"3,5":[44.0262146,44.05316,58.0418646,58.08004],"0,4":[30.0105646,30.02628,30.0105646,30.02628],"3,4":[30.0105646,30.02628,44.0262146,44.05316]},dHex:{"0,2":[104.0473438,104.10572,132.0786438,132.15948],"1,3":[60.0211292,60.05256,88.0524292,88.10632],"2,4":[60.0211292,60.05256,88.0524292,88.10632],"1,5":[118.0629938,118.1326,160.1099438,160.21324],"3,5":[58.0418646,58.08004,72.0575146,72.10692],"0,4":[44.0262146,44.05316,44.0262146,44.05316],"3,4":[30.0105646,30.02628,44.0262146,44.05316]},HexA:{"0,2":[134.021523,134.08864,176.068473,176.16928],"1,3":[60.0211292,60.05256,88.0524292,88.10632],"2,4":[60.0211292,60.05256,88.0524292,88.10632],"1,5":[148.037173,148.11552,204.099773,204.22304],"3,5":[88.0160438,88.06296,116.0473438,116.11672],"0,4":[74.0003938,74.03608,88.0160438,88.06296],"3,4":[30.0105646,30.02628,44.0262146,44.05316]},NeuAc:{"0,2":[221.0899366,221.21024,305.1838366,305.37152],"1,3":[44.0262146,44.05316,58.0418646,58.08004],"2,4":[101.0476782,101.10512,143.0946282,143.18576],"1,5":[219.110672,219.23772,303.204572,303.399],"3,5":[163.0844574,163.17356,233.1627074,233.30796],"0,4":[120.0422584,120.10512,162.0892084,162.18576],"3,4":[59.0371136,59.06784,87.0684136,87.1216]},NeuGc:{"0,2":[237.0848512,237.20964,307.1631012,307.34404],"1,3":[44.0262146,44.05316,58.0418646,58.08004],"2,4":[117.0425928,117.10452,145.0738928,145.15828],"1,5":[235.1055866,235.23712,305.1838366,305.37152],"3,5":[179.079372,179.17296,235.141972,235.28048],"0,4":[120.0422584,120.10512,162.0892084,162.18576],"3,4":[75.0320282,75.06724,89.0476782,89.09412]}},mt=e=>{var t=e.substring(5),r=e.substring(0,5),n=r;switch(r){case"1,1-e":n="1,5-a";break;case"2,2-e":n="0,2-a";break;case"3,3-e":n="3,5-a";break;case"4,4-e":case"5,5-e":n="0,4-a";break;case"1,3-e":n="1,3-a";break;case"2,4-e":n="2,4-a";break;case"3,5-e":n="3,4-a";break;case"1,1-w":n="1,5-x";break;case"2,2-w":n="0,2-x";break;case"3,3-w":n="3,5-x";break;case"4,4-w":case"5,5-w":n="0,4-x"}return"".concat(n).concat(t)};class yt extends a.TracedMonosaccharide{get children(){var e=super.children;return((e,t)=>{var r=t;if(e){e.match(/^[bc]/)&&(r=r);var n=e.match(/(\d),(\d)-([ax])/);if(n){var i=parseInt(n[1]),o=parseInt(n[2]),a="x"===n[3];r=r.filter(e=>{var t=e.parent.linkageOf(e),r=pt(t>5?5:t,i,o);return a?r:!r})}}return r=r.filter(e=>!(e.type||"").match(/^[yz]/))})(this.type,e)}get parent(){if(!(this.type||"").match(/(^[bc]|-a)/))return super.parent}get mass(){var e,t=0;if(this.type&&(e=this.type.match(/(\d,\d)-([ax])/))){var r=e[1],n=e[2],i=this.original.proto;if(i&&(t=gt[i][r][vt.MONOISOTOPICMASS]),"a"===n)return t}return this.original.mass-t}}var xt=e=>class extends e{constructor(){super(),this.base_composition=[]}static get Monosaccharide(){return yt}get chord(){return this.chordResidues}set chord(e){this.base_root||(this.base_root=this.root,this.base_composition=this.composition()),this.root=this.base_root;var t=this.base_composition.filter(t=>e.chord.indexOf(t.original)>=0);this.chordResidues=e.chord.map(e=>t.filter(t=>t.original===e)[0]),this.root=e.root===this.root.original?this.root:t.filter(t=>t.original===e.root)[0]}set type(e){for(var t of this.base_composition)t.type=null;if(e){for(var r=e.split("/"),n=0;n<r.length;n++)r[n].match(/-[ew]/)&&(r[n]=mt(r[n])),this.chordResidues[n].type=r[n];this.typestring=e}}get type(){return this.typestring}get mass(){var e,t=this.composition().map(e=>e.mass).reduce((e,t)=>e+t),r=ft,n=t;for(var i of this.type.split("/"))i.match(/^y/)&&(n+=ft),i.match(/^b/)&&(n+=r-ft),i.match(/^z/)&&(n+=0-dt-ft),i.match(/^c/)&&(n+=dt+ft+r),i.match(/^\d,\d-[xw]/)&&(n+=r);switch(e=(e=this.type.match(/(\d,\d-[ew])/))?e[1]:null){case"1,1-e":case"3,3-e":n+=0+dt;break;case"5,5-e":n+=0-dt-2*ft-ct;break;case"3,5-e":n+=0+2*ft+ct;break;case"1,1-w":n+=0-2*ft-dt;break;case"2,2-w":n+=0-2*ft;break;case"3,3-w":n+=0-2*ft-dt;break;case"4,4-w":n+=0-2*ft;break;case"5,5-w":n+=0+dt+ct+ft}return(this.type.match(/^[yz]/)||this.type.match(/^\d,\d-[xw]/))&&(n+=dt+r),n+=-1*(this.type.split("/").length-1)*r}},bt=(e,t,r,n)=>{var[i,o]=e[n].split("");return i=parseInt(i),r.match(/(^[bc]|-a|-e)/)&&(i=1+t-i),r.match(/(^[yz]|-x|-w)/)&&(i-=1),r+i+o},wt=(e,t)=>t.root===e.root&&t.chord[0]!==e.root,_t=(e,t)=>[].concat(...e.map(e=>t.map(t=>[].concat(e,t)))),kt=function e(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return r?e(_t(t,r),...i):t},Ot=["y","z","3,5-x","1,3-x","1,5-x","2,4-x","0,2-x","0,4-x"],Ct=["b","c","3,5-a","1,3-a","1,5-a","2,4-a","0,2-a","0,4-a"],Tt=(e,t)=>t.type.match(/^[yz]/)?e.indexOf(t.parent)<0||!((e,t)=>{if(!t)return!0;if(t.match(/^[bc]/))return!0;var r=t.match(/(\d),(\d)-([ax])/);if(r){var n=parseInt(r[1]),i=parseInt(r[2]),o="x"===r[3],a=pt(e>5?5:e,n,i);return o?a:!a}})(t.parent.linkageOf(t),t.parent.type):e.indexOf(t)<0;var St=class{static*fragment(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e.mass)throw new Error("Sugar object class does not derive from Mass class");var r=e.constructor,n=xt(r),i=Object(a.trace_into_class)(e,n),o=Math.max(...e.leaves().map(e=>e.depth)),s=(e,t)=>e.location_for_monosaccharide(t).substring(1);for(var l of e.chords(t)){var h=[];wt(e,l)?h.push(Ot):h.push(Ct);var u=h.concat(new Array(l.chord.length-1).fill(Ot));l.chord.indexOf(e.root)>=0&&(wt(e,l)?u[l.chord.indexOf(e.root)]=u[l.chord.indexOf(e.root)].concat(["1,1-w","2,2-w","3,3-w","4,4-w","5,5-w"]):u[l.chord.indexOf(e.root)]=u[l.chord.indexOf(e.root)].concat(["1,1-e","2,2-e","3,3-e","4,4-e","5,5-e","3,5-e","1,3-e","2,4-e"]));var c=kt.apply(null,u),f=l.chord.map(s.bind(null,e)),d=bt.bind(null,f,o);for(var p of c)if(Array.isArray(p)||(p=[p]),!p[0].match(/^[bc]/)||l.root!==e.root){var v=i.clone();v.type=null,v.chord=l,v.type=p.map(d).join("/");var g=v.composition();v.chordResidues.some(Tt.bind(null,g))||(yield v)}}for(var m of["3,5-x","1,3-x","1,5-x","2,4-x","0,2-x","0,4-x","1,1-w","2,2-w","3,3-w","4,4-w","5,5-w"]){var y=i.clone();y.type=null,y.chord={root:e.root,chord:[e.root]},y.type=m+"0a",yield y}}};r.d(t,"FishEyeLayout",(function(){return At})),r.d(t,"SugarAwareLayoutFishEye",(function(){return Mt})),r.d(t,"LinkageLayoutFishEye",(function(){return Ft})),r.d(t,"Sugar",(function(){return j})),r.d(t,"Monosaccharide",(function(){return i.default})),r.d(t,"Reaction",(function(){return U})),r.d(t,"ReactionSet",(function(){return te})),r.d(t,"ReactionGroup",(function(){return ae})),r.d(t,"Repeat",(function(){return o.default})),r.d(t,"CondensedIupac",(function(){return n})),r.d(t,"CondensedLayout",(function(){return Pe})),r.d(t,"SugarAwareLayout",(function(){return qe})),r.d(t,"LinkageLayout",(function(){return De})),r.d(t,"SVGRenderer",(function(){return Je.default})),r.d(t,"CanvasRenderer",(function(){return Qe.default})),r.d(t,"Fragmentor",(function(){return St})),r.d(t,"Mass",(function(){return ut}));var At=Ze,Mt=$e(qe),Ft=$e(De)},HUrS:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return T}));var n=r("KdfE"),i=r("onMR"),o=r("19Mu"),a=Symbol("template_sugar"),s=Symbol("last_residue"),l=Symbol("min_repeats"),h=Symbol("max_repeats"),u=Symbol("identifier"),c=Symbol("active_mode"),f=Symbol("MODE_EXPAND"),d=Symbol("MODE_MINIMAL"),p=Symbol("parent"),v=Symbol("sort_order"),g=Symbol("child_residue"),m=Symbol("repeat"),y=Symbol("counter"),x=Symbol("attachment"),b=new o.default,w={};class _{constructor(){}static get(e){return w[e]||(w[e]=new _),w[e]}}var k=(e,t,r,n,i)=>{var o=[t,_.get(i),r];return b.has(o)||b.set(o,new e(r,n,t,i)),b.get(o)},O=(e,t)=>{Object.defineProperty(e,"parent",{get:()=>{var e=t.mode===f?t.max:t.mode===d?t.min:1;return k(t.constructor.Monosaccharide,t,t[s],null,e)}})};class C extends i.TracedMonosaccharide{constructor(e,t,r,n){return super(e),this[p]=t,this[m]=r,this[y]=n,this}static is_wrapped(e){return e instanceof C}static is_not_wrapped(e){return!C.is_wrapped(e)}clone(){var e=new this.constructor(this.original,this[p],this[m].clone(),this[y]);return e.copyTagsFrom(this),e}get repeat(){return this[m]}get counter(){return this[y]}balance(){var e=this.children.map(e=>({link:this.linkageOf(e),res:e}));e.sort((e,t)=>e.link-t.link);var t=e.map(e=>e.res);(t=Object.freeze(Object(n.calculateSiblingOrder)(t))).forEach((e,t)=>{e[v]=t+1})}graft(){}addChild(e,t){if(this.repeat.mode===f&&(!this.endsRepeat||this.counter<this.repeat.max))return super.addChild(e,t);this.repeat[g].children.indexOf(t)<0&&(this.repeat[g].addChild(e,t),O(t,this.repeat))}removeChild(e,t){if(!this.endsRepeat)throw new Error("Removing a child that isnt at the end of a repeat");return this.repeat.mode===f&&(!this.endsRepeat||this.counter<this.repeat.max)?super.removeChild(e,t):this.repeat[g].removeChild(e,t)}get endsRepeat(){return this.original===this.repeat[s]}get parent(){return this[p]?this[p]:super.parent}linkageOf(e){return e instanceof C?this.endsRepeat&&e.repeat===this.repeat&&e.counter!==this.counter&&e.original===this.repeat.root.original?this.repeat.root.parent.linkageOf(this.repeat.root):this.original.linkageOf(e.original):this.endsRepeat&&this.repeat.children.indexOf(e)>=0?this.repeat[g].linkageOf(e):new n.default(" ").linkageOf.call(this,e)}get child_linkages(){var e=super.child_linkages,t=new Map;for(var r of e.keys()){for(var n of e.get(r).filter(C.is_wrapped)){var i=n.original.parent.linkageOf(n.original);t.set(i,(t.get(i)||[]).concat(n))}for(var o of e.get(r).filter(C.is_not_wrapped))t.set(r,(t.get(r)||[]).concat(o))}return t}get children(){var e=this.repeat.mode===f?this.repeat.max:this.repeat.mode===d?this.repeat.min:1,t=this.original.children,r=super.children,n=[];this.repeat.mode===d&&(r=[]),this.endsRepeat&&this.counter>=e&&(n=this.repeat.children);var i=[];this.endsRepeat&&this.counter<e&&i.push(k(this.constructor,this.repeat,this.repeat.root.original,this,this.counter+1));var o=t.map(e=>k(this.constructor,this.repeat,e,this,this.counter)),a=Object.freeze([r,n,i].reduce((e,t)=>e.concat(t),o));return a.length>0&&a.every(e=>e[v])?Object.freeze(a.slice().sort((e,t)=>e[v]-t[v])):a}}class T{constructor(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this[a]=e;var o=e.leaves()[0];if("Root"===e.root.identifier&&(e.root=e.root.children[0]),this[s]=o,t)this[s]="string"!=typeof t||t instanceof n.default?t:e.locate_monosaccharide(t);else if(1!==e.leaves.length)throw new Error("Too many leaves on repeat without defined attachment site");"string"!=typeof t&&(t=e.location_for_monosaccharide(this[s])),this[x]=t,this[l]=r,this[h]=i,this[g]=new n.default("Root")}clone(){var e=new this.constructor(this[a],this[s],this.min,this.max);return e[x]=this[x],e.identifier=this.identifier,this.mode&&(e.mode=this.mode),e}get off_main(){return this[s]!==this[a].leaves()[0]}static get Monosaccharide(){return C}static addToSugar(e,t,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;t instanceof n.default||"string"!=typeof t||(t=e.locate_monosaccharide(t)),r instanceof n.default||"string"!=typeof r||(r=e.locate_monosaccharide(r));var s=new n.default("Root");for(var l of r.children)s.graft(l);var h=t.parent,u=h.linkageOf(t);h.removeChild(u,t);var c=new e.constructor;c.root=new n.default("Root"),c.root.addChild(u,t);var f=new T(c,r,o,a);for(var d of(f.mode=i,s.children))f[g].graft(d),O(d,f);return h.addChild(u,f.root),f}static get MODE_EXPAND(){return f}static get MODE_MINIMAL(){return d}get template(){return this[a]}get root(){var e=k(C,this,this[a].root,null,this.min);if(this[a].root.parent&&!e.parent){var t=this[a].root.parent.linkageOf(this[a].root),r=this[a].root.parent.clone();r.removeChild(t,this[a].root),r.addChild(t,e)}return e}get attachment(){return this[x]}get identifier(){return this[u]||""}set identifier(e){this[u]=e}get mode(){return this[c]}set mode(e){if([d,f].indexOf(e)<0)throw new Error("Invalid mode");this[c]=e}get min(){return this[l]}get max(){return this[h]}set max(e){this[h]=e}get children(){return this[g].children}set children(e){var t=this[g];for(var r of t.children)t.removeChild(t.linkageOf(r),r);for(var n of e)n.parent?t.graft(n):t.addChild(0,n),O(n,this)}}},KdfE:function(e,t,r){"use strict";r.r(t),r.d(t,"calculateSiblingOrder",(function(){return p})),r.d(t,"default",(function(){return y})),r.d(t,"StrictMonosaccharide",(function(){return b}));var n={O:-100,N:-200},i=Symbol("anomer"),o=Symbol("identifier"),a=Symbol("parent_linkage"),s=Symbol("parent"),l=Symbol("unknown_count"),h=(e,t,r)=>r.indexOf(e)===t,u=function e(t){return 0==t.children.length?[t]:Array.prototype.concat.apply([],t.children.map(e))},c=function(e,t){for(var r=[t];e.indexOf(r[0])<0;)r.unshift(r[0].parent);return r},f=function(e,t){return e.parent.linkageOf(e)!==t.parent.linkageOf(t)?e.parent.linkageOf(e)-t.parent.linkageOf(t):e.identifier!==t.identifier?e.identifier.toUpperCase()<t.identifier.toUpperCase()?-1:1:0},d=function(e,t){for(var r=[].concat(e),n=[].concat(t);r.length>0&&n.length>0;){var i=r.shift(),o=n.shift(),a=f(i,o);if(a)return a}return-1*(r.length-n.length)},p=function(e){var t=[];for(var r of e)t=t.concat(u(r));return t.map(c.bind(null,e)).sort(d).map(e=>e[0]).filter(h)},v=new WeakMap,g=new WeakMap,m=new WeakMap;class y{static get LINKAGES(){return n}constructor(e){if(!e)throw new Error("Missing identifier");this[o]=e}get depth(){for(var e=this,t=1;e.parent;)t++,e=e.parent;return t}get identifier(){return this[o]}get anomer(){return this[i]}set anomer(e){this[i]=e}get parent_linkage(){return this[a]}set parent_linkage(e){this[a]=e}get parent(){return this[s]}get children(){return Object.freeze([].concat(g.get(this)||[]))}get child_linkages(){var e=new Map;return this.children.forEach((function(t){var r=v.get(t),n=r;r>100&&(n=0);var i=e.get(n);i||(i=[],e.set(n,i)),i.push(t)})),e}get siblings(){var e=this;return this.parent?this.parent.children.filter(t=>t!==e):[]}balance(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Object.isFrozen(this))throw new TypeError("Cannot balance child ordering of frozen monosaccharide");var t=p(this.children);this[l]=0;var r=0;for(var n of t)v.get(n)>100&&(r+=1,v.set(n,101+r));this[l]=r,g.set(this,t);var i=this;if(e)for(;i&&i.parent;){var o=i.parent.linkageOf(i);i.parent.child_linkages.get(o).length>0&&i.parent.balance(!1),i=i.parent}}addChild(e,t){if(Object.isFrozen(this)||Object.isFrozen(t))throw new TypeError("Cannot add child on frozen monosaccharide");if("number"!=typeof e)throw new Error("Linkage must be number");if(e>100)throw new Error("Cannot set defined linkage greater than ".concat(100));if(0==e){this[l]=this[l]||0;var r=this[l];this[l]=r+1,e=101+r}var n=0;for(var i of this.children){if(!(v.get(i)<=e))break;n+=1}v.set(t,e);var o=g.get(this)||[];o.splice(n,0,t),g.set(this,o),t[s]=this}removeChild(e,t){if(Object.isFrozen(this))throw new TypeError("Cannot remove child on frozen monosaccharide");var r=g.get(this),n=t=>{r.splice(r.indexOf(t),1),v.delete(t),t[s]=null,0==e&&(this[l]-=1)},i=e=>!t||e===t;for(var[o,a]of this.child_linkages)e==o&&a.filter(i).forEach(n)}replaceChild(e,t,r){if(Object.isFrozen(this)||Object.isFrozen(t)||Object.isFrozen(e))throw new TypeError("Cannot replace child on frozen monosaccharide");var n=this.linkageOf(e),i=e.parent_linkage,o=e.anomer;this.removeChild(n,e),t.parent_linkage=i,t.anomer=o,void 0!==r?this.addChild(r,t):this.addChild(n,t)}linkageOf(e){this.child_linkages;var t,r=this.child_linkages.entries();for(t of r)if(t[1].indexOf(e)>=0)return t[0]}graft(e){if(Object.isFrozen(this)||Object.isFrozen(e))throw new TypeError("Cannot graft child on frozen monosaccharide");var t=e.parent,r=t.linkageOf(e);t.removeChild(r,e),this.addChild(r,e)}childAt(e){var t=this.child_linkages.get(e);return t?t[0]:t}toString(){return this.identifier}valueOf(){return this.identifier}setTag(e,t){m.has(this)||m.set(this,new Map);var r=m.get(this),n="symbol"==typeof e?e:Symbol(e);return r.set(n,void 0===t||t),null===t&&r.delete(n),n}getTag(e){if(m.has(this))return m.get(this).get(e)}copyTagsFrom(e){m.has(this)||m.set(this,new Map);var t=m.get(this);for(var r of(m.get(e)||new Map).keys())t.set(r,m.get(e).get(r))}clone(){var e=new this.constructor(this.identifier);return e[i]=this[i],e[a]=this[a],e.copyTagsFrom(this),e}toSugar(e){var t=new e;t.root=this;var r=t.clone();return t.root=null,r}}var x=e=>class extends e{addChild(e,t){return this.childAt(e)&&this.removeChild(e),super.addChild(e,t)}};class b extends(x(y)){}},ObVx:function(e,t,r){(function(e,r){!function(t){"use strict";var n,i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:this||(void 0!==t?t:{}),o=i.requestAnimationFrame||function(e){return i.setTimeout(e,50/3)},a=i.cancelAnimationFrame||function(e){return i.clearTimeout(e)},s=function(){if(void 0===r||void 0===r.hrtime||r.versions&&void 0!==r.versions.electron){if(void 0!==i.performance&&void 0!==i.performance.now)return i.performance.now.bind(i.performance);var e=i.performance&&i.performance.timing&&i.performance.timing.navigationStart?i.performance.timing.navigationStart:Date.now();return function(){return Date.now()-e}}return function(){var e=r.hrtime();return 1e3*e[0]+e[1]/1e6}}(),l=[],h=!1,u=!1,c=[],f=o,d=0,p=120,v=function(e){var t=l.indexOf(e);-1<t&&l.splice(t,1),l.push(e),d=0,u&&!h&&(n=f(y),h=!0)},g=function(e){for(var t=0;t<l.length;t++)if(e===l[t])return l[t];return null},m=function(e){var t=l.indexOf(e);-1!==t&&l.splice(t,1),0===l.length&&a(n)},y=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s(),r=1<arguments.length?arguments[1]:void 0;if(p<=d)return h=!1,d=0,a(n),!1;u&&h?n=f(e):function(){for(var e=0;e<c.length;e++)c[e]()}(),l.length||d++;for(var i=0,o=l.length;i<o;)l[i++].update(t,r),o>l.length&&i--,o=l.length;return!0},x=function(){return h},b={},w={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-w.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*w.Bounce.In(2*e):.5*w.Bounce.Out(2*e-1)+.5}},Stepped:{steps:function(e){return function(t){return(t*e|0)/e}}}};function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t,r){return t&&O(e.prototype,t),r&&O(e,r),e}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){var n,i,o;n=e,o=r[i=t],i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}))}return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?M(e):t}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var j=50/3,L="_chainedTweens",P="Callback",R="update",q="complete",H="start",N="repeat",I="reverse",B="restart",z="STRING_PROP",G=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;function D(e){if(e&&e.nodeType||void 0===e||"object"!==_(e))return e;if(Array.isArray(e))return[].concat(e);if("object"!==_(e))return e;var t={};for(var r in e)t[r]=D(e[r]);return t}var V=/^#([0-9a-f]{6}|[0-9a-f]{3})$/i,U=function(e,t){var r,n,i;3===t.length&&(t=(r=t[0])+r+(n=t[1])+n+(i=t[2])+i);var o=parseInt(t,16);return"rgb("+(r=o>>16&255)+","+(n=o>>8&255)+","+(i=255&o)+")"};function X(e){return"string"!=typeof e?e:e.replace(V,U).match(G).map((function(e){return function(e){return isNaN(+e)||("+"===e[0]||"-"===e[0])&&"="===e[1]||""===e||" "===e}(e)?e:+e}))}function W(e,t,r,n,i){var o=r[e],a=n[e];if("string"==typeof o||"string"==typeof a){for(var s=Array.isArray(o)&&o[0]===z?o:X(o),l=Array.isArray(a)&&a[0]===z?a:X(a),h=1;h<s.length;)s[h]===l[h]&&"string"==typeof s[h-1]?(s.splice(h-1,2,s[h-1]+s[h]),l.splice(h-1,2,l[h-1]+l[h])):h++;s[h=0]===z&&s.shift(),l[0]===z&&l.shift();for(var u={isString:!0,length:s.length},c={isString:!0,length:l.length};h<u.length;)u[h]=s[h],c[h]=l[h],h++;return r[e]=u,n[e]=c,!0}if("object"!==_(o)||"object"!==_(a))return!1;if(Array.isArray(o))return o.map((function(r,n){return W(n,t[e],o,a)}));for(var f in a)W(f,t[e],o,a);return!0}var Y="rgba(",K=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"rgb(";return"number"==typeof e[t]&&(e[t-1]===r||e[t-3]===r||e[t-5]===r)};function $(e,t,r,n,i,o,a){var s=a?r:r[e],l=a?n:n[e];if(void 0===l)return s;if(void 0===s||"string"==typeof s||s===l)return l;if("object"===_(s)&&"object"===_(l)){if(!s||!l)return t[e];if("object"===_(s)&&s&&s.isString){for(var h="",u=0,c=s.length;u<c;u++){var f="number"==typeof s[u]&&"string"==typeof l[u]&&"="===l[u][1],d="number"!=typeof s[u]?s[u]:f?s[u]+parseFloat(l[u][0]+l[u].substr(2))*i:s[u]+(l[u]-s[u])*i;(K(s,u)||K(s,u,Y))&&(d|=0),h+=d,f&&1===o&&(s[u]=s[u]+parseFloat(l[u][0]+l[u].substr(2)))}return a||(t[e]=h),h}if(Array.isArray(s)&&s[0]!==z)for(var p=0,v=s.length;p<v;p++)s[p]!==l[p]&&$(p,t[e],s,l,i,o);else if("object"===_(s)&&s&&!s.isString)for(var g in s)s[g]!==l[g]&&$(g,t[e],s,l,i,o)}else if("number"==typeof s){var m="string"==typeof l;t[e]=m?s+parseFloat(l[0]+l.substr(2))*i:s+(l-s)*i,m&&1===o&&(r[e]=t[e])}else"function"==typeof l&&(t[e]=l(i));return t[e]}var Z,J=/([.[])/g,Q=/\]/g,ee=function(e,t){var r=e[t],n=t.replace(Q,"").split(J),i=n.length-1,o=Array.isArray(e),a="object"===_(e)&&!o;return a?(e[t]=null,delete e[t]):o&&e.splice(t,1),n.reduce((function(e,t,s){o&&"."!==t&&"["!==t&&(t*=1);var l="["===n[s+1];if("."===t||"["===t)return"."===t?o=!(a=!0):"["===t&&(o=!(a=!1)),e;if(void 0===e[t]){if(o||a)return e[t]=s===i?r:o||l?[]:a?{}:null,a=o=!1,e[t]}else if(void 0!==e[t])return s===i&&(e[t]=r),e[t];return e}),e)},te=function(e){if("object"===_(e)&&e)for(var t in e)if(-1!==t.indexOf(".")||-1!==t.indexOf("["))ee(e,t);else if("object"===_(e[t])&&e[t]){var r=e[t];for(var n in r)if(-1!==n.indexOf(".")||-1!==n.indexOf("["))ee(r,n);else if("object"===_(r[n])&&r[n]){var i=r[n];for(var o in i)-1===o.indexOf(".")&&-1===o.indexOf("[")||ee(i,o)}}return e},re=Object.freeze({FRAME_MS:j,TOO_LONG_FRAME_MS:250,CHAINED_TWEENS:L,EVENT_CALLBACK:P,EVENT_UPDATE:R,EVENT_COMPLETE:q,EVENT_START:H,EVENT_REPEAT:N,EVENT_REVERSE:I,EVENT_PAUSE:"pause",EVENT_PLAY:"play",EVENT_RESTART:B,EVENT_STOP:"stop",EVENT_SEEK:"seek",STRING_PROP:z,NUM_REGEX:G,HEXC_REGEX:/^#([0-9a-f]{6}|[0-9a-f]{3})$/i,deepCopy:D,decomposeString:X,decompose:W,RGB:"rgb(",RGBA:Y,isRGBColor:K,recompose:$,SET_NESTED:te}),ne={Linear:function(e,t,r){var n=e.length-1,i=n*t,o=Math.floor(i),a=ne.Utils.Linear;return t<0?a(e[0],e[1],i,r):1<t?a(e[n],e[n-1],n-i,r):a(e[o],e[n<o+1?n:o+1],i-o,r)},Bezier:function(e,t,r){for(var n=ne.Utils.Reset(r),i=e.length-1,o=Math.pow,a=ne.Utils.Bernstein,s=Array.isArray(n),l=0;l<=i;l++)if("number"==typeof n)n+=o(1-t,i-l)*o(t,l)*e[l]*a(i,l);else if(s)for(var h=0,u=n.length;h<u;h++)"number"==typeof n[h]?n[h]+=o(1-t,i-l)*o(t,l)*e[l][h]*a(i,l):n[h]=e[l][h];else if("object"===_(n))for(var c in n)"number"==typeof n[c]?n[c]+=o(1-t,i-l)*o(t,l)*e[l][c]*a(i,l):n[c]=e[l][c];else if("string"==typeof n){for(var f="",d=e[Math.round(i*t)],p=1,v=d.length;p<v;p++)f+=d[p];return f}return n},CatmullRom:function(e,t,r){var n=e.length-1,i=n*t,o=Math.floor(i),a=ne.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(o=Math.floor(i=n*(1+t))),a(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],i-o,r)):t<0?a(e[1],e[1],e[0],e[0],-t,r):1<t?a(e[n-1],e[n-1],e[n],e[n],(0|t)-t,r):a(e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2],i-o,r)},Utils:{Linear:function(e,t,r,n){if("string"==typeof e)return t;if("number"==typeof e)return"function"==typeof e?e(r):e+(t-e)*r;if("object"===_(e)){if(void 0!==e.length){if(e[0]===z){for(var i="",o=1,a=e.length;o<a;o++){var s="number"==typeof e[o]?e[o]+(t[o]-e[o])*r:t[o];(K(e,o)||K(e,o,Y))&&(s|=0),i+=s}return i}for(var l=0,h=n.length;l<h;l++)n[l]=ne.Utils.Linear(e[l],t[l],r,n[l])}else for(var u in n)n[u]=ne.Utils.Linear(e[u],t[u],r,n[u]);return n}},Reset:function(e){if(Array.isArray(e)){for(var t=0,r=e.length;t<r;t++)e[t]=ne.Utils.Reset(e[t]);return e}if("object"!==_(e))return"number"==typeof e?0:e;for(var n in e)e[n]=ne.Utils.Reset(e[n]);return e},Bernstein:function(e,t){var r=ne.Utils.Factorial;return r(e)/r(t)/r(e-t)},Factorial:(Z=[1],function(e){var t=1;if(Z[e])return Z[e];for(var r=e;1<r;r--)t*=r;return Z[e]=t}),CatmullRom:function(e,t,r,n,i,o){if("string"==typeof e)return t;if("number"==typeof e){var a=.5*(r-e),s=.5*(n-t),l=i*i;return(2*t-2*r+a+s)*(i*l)+(-3*t+3*r-2*a-s)*l+a*i+t}if("object"===_(e)){if(void 0!==e.length){if(e[0]===z){for(var h="",u=1,c=e.length;u<c;u++){var f="number"==typeof e[u]?ne.Utils.CatmullRom(e[u],t[u],r[u],n[u],i):n[u];(K(e,u)||K(e,u,Y))&&(f|=0),h+=f}return h}for(var d=0,p=o.length;d<p;d++)o[d]=ne.Utils.CatmullRom(e[d],t[d],r[d],n[d],i,o[d])}else for(var v in o)o[v]=ne.Utils.CatmullRom(e[v],t[v],r[v],n[v],i,o[v]);return o}}}},ie={};function oe(e,t,r){if(!e||!e.nodeType)return t;var n=e.queueID||"q_"+Date.now();e.queueID||(e.queueID=n);var i=ie[n];if(i){if(i.object===t&&e===i.tween.node&&r._startTime===i.tween._startTime)m(i.tween);else if("object"===_(t)&&t&&i.object){for(var o in t)o in i.object&&(r._startTime===i.tween._startTime?delete i.object[o]:i.propNormaliseRequired=!0);i.object=T({},i.object,t)}return i.object}return"object"===_(t)&&t?(ie[n]={tween:r,object:t,propNormaliseRequired:!1},ie[n].object):t}function ae(e,t,r){return t?e?"undefined"!=typeof window&&e===window||"undefined"!=typeof document&&e===document?[e]:"string"==typeof e?!!document.querySelectorAll&&document.querySelectorAll(e):Array.isArray(e)?e:e.nodeType?[e]:r?e:[]:null:e?"undefined"!=typeof window&&e===window||"undefined"!=typeof document&&e===document?e:"string"==typeof e?!!document.querySelector&&document.querySelector(e):Array.isArray(e)?e[0]:e.nodeType?e:r?e:null:null}var se=0,le=w.Linear.None,he=function(){function e(t,r){return k(this,e),this.id=se++,!t||"object"!==_(t)||r||t.nodeType?t&&(t.nodeType||t.length||"string"==typeof t)&&(t=this.node=ae(t),r=this.object=oe(t,r,this)):(r=this.object=t,t=null),this._valuesEnd=null,this._valuesStart=Array.isArray(r)?[]:{},this._duration=1e3,this._easingFunction=le,this._easingReverse=le,this._interpolationFunction=ne.Linear,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=null,this._isFinite=!0,this._maxListener=15,this._chainedTweensCount=0,this._prevTime=null,this}return C(e,null,[{key:"fromTo",value:function(t,r,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};i.quickRender=i.quickRender?i.quickRender:!n;var o=new e(t,r).to(n,i);return i.quickRender&&(o.render().update(o._startTime),o._rendered=!1,o._onStartCallbackFired=!1),o}},{key:"to",value:function(t,r,n){return e.fromTo(t,null,r,n)}},{key:"from",value:function(t,r,n){return e.fromTo(t,r,null,n)}}]),C(e,[{key:"setMaxListener",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:15;return this._maxListener=e,this}},{key:"on",value:function(e,t){for(var r=this._maxListener,n=e+P,i=0;i<r;i++){var o=n+i;if(!this[o]){this[o]=t;break}}return this}},{key:"once",value:function(e,t){for(var r=this,n=this._maxListener,i=e+P,o=function(e){var n=i+e;if(!r[n])return r[n]=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];t.apply(r,i),r[n]=null},"break"},a=0;a<n&&"break"!==o(a);a++);return this}},{key:"off",value:function(e,t){for(var r=this._maxListener,n=e+P,i=0;i<r;i++){var o=n+i;this[o]===t&&(this[o]=null)}return this}},{key:"emit",value:function(e,t,r,n,i){var o=this._maxListener,a=e+P;if(!this[a+0])return this;for(var s=0;s<o;s++){var l=a+s;this[l]&&this[l](t,r,n,i)}return this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"isStarted",value:function(){return this._onStartCallbackFired}},{key:"reverse",value:function(e){var t=this._reversed;return this._reversed=void 0!==e?e:!t,this}},{key:"reversed",value:function(){return this._reversed}},{key:"pause",value:function(){return this._isPlaying?(this._isPlaying=!1,m(this),this._pausedTime=s(),this.emit("pause",this.object)):this}},{key:"play",value:function(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=s()-this._pausedTime,this._initTime=this._startTime,v(this),this._pausedTime=s(),this.emit("play",this.object))}},{key:"restart",value:function(e){return this._repeat=this._r,this.reassignValues(),v(this),this.emit(B,this.object)}},{key:"seek",value:function(e,t){var r=this._duration,n=this._initTime,i=this._startTime,o=this._reversed,a=n+e;return this._isPlaying=!0,a<i&&n<=i&&(this._startTime-=r,this._reversed=!o),this.update(e,!1),this.emit("seek",e,this.object),t?this:this.pause()}},{key:"duration",value:function(e){return this._duration="function"==typeof e?e(this._duration):e,this}},{key:"to",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3;if(this._valuesEnd=e,"number"==typeof t||"function"==typeof t)this._duration="function"==typeof t?t(this._duration):t;else if("object"===_(t))for(var r in t)if("function"==typeof this[r]){var n=E(Array.isArray(t[r])?t[r]:[t[r]],4),i=n[0],o=void 0===i?null:i,a=n[1],s=void 0===a?null:a,l=n[2],h=void 0===l?null:l,u=n[3],c=void 0===u?null:u;this[r](o,s,h,c)}return this}},{key:"render",value:function(){if(this._rendered)return this;var t=this._valuesStart,r=this._valuesEnd,n=this.object,i=this.node,o=this.InitialValues;if(te(n),te(r),i&&i.queueID&&ie[i.queueID]){var a=ie[i.queueID];if(a.propNormaliseRequired&&a.tween!==this){for(var s in r)a.tween._valuesEnd[s];a.normalisedProp=!0,a.propNormaliseRequired=!1}}for(var l in i&&o&&(n&&0!==Object.keys(n).length?r&&0!==Object.keys(r).length||(r=this._valuesEnd=o(i,n)):n=this.object=oe(i,o(i,r),this)),r){var h=n&&n[l]&&D(n[l]),u=r[l];if(!(b[l]&&b[l].init&&(b[l].init.call(this,h,u,l,n),void 0===h&&t[l]&&(h=t[l]),b[l].skipProcess)||"number"==typeof h&&isNaN(h)||null===h||null===u||!1===h||!1===u||void 0===h||void 0===u||h===u)){if(Array.isArray(u)&&!Array.isArray(h)){u.unshift(h);for(var c=0,f=u.length;c<f;c++)if("string"==typeof u[c]){for(var d=X(u[c]),p={length:d.length,isString:!0},v=0,g=d.length;v<g;v++)p[v]=d[v];u[c]=p}}"number"==typeof(t[l]=h)&&"string"==typeof u&&"="===u[1]||W(l,n,t,r)}}return e.Renderer&&this.node&&e.Renderer.init&&(e.Renderer.init.call(this,n,t,r),this.__render=!0),this}},{key:"start",value:function(e){return this._startTime=void 0!==e?"string"==typeof e?s()+parseFloat(e):e:s(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,v(this),this}},{key:"stop",value:function(){var e=this._isPlaying,t=this._isFinite,r=this.object,n=this._startTime,i=this._duration,o=this._r,a=this._yoyo,s=this._reversed;if(!e)return this;var l=t?(o+1)%2==1:!s;return this._reversed=!1,a&&l?this.update(n):this.update(n+i),m(this),this.emit("stop",r)}},{key:"delay",value:function(e){return this._delayTime="function"==typeof e?e(this._delayTime):e,this}},{key:"chainedTweens",value:function(){if(this._chainedTweensCount=arguments.length,!this._chainedTweensCount)return this;for(var e=0,t=this._chainedTweensCount;e<t;e++)this[L+e]=arguments[e];return this}},{key:"repeat",value:function(e){return this._repeat=this._duration?"function"==typeof e?e(this._repeat):e:0,this._r=this._repeat,this._isFinite=isFinite(e),this}},{key:"reverseDelay",value:function(e){return this._reverseDelayTime="function"==typeof e?e(this._reverseDelayTime):e,this}},{key:"yoyo",value:function(e,t){return this._yoyo="function"==typeof e?e(this._yoyo):null===e?this._yoyo:e,e||(this._reversed=!1),this._easingReverse=t||null,this}},{key:"easing",value:function(e){return this._easingFunction=e,this}},{key:"interpolation",value:function(e){return"function"==typeof e&&(this._interpolationFunction=e),this}},{key:"reassignValues",value:function(e){var t=this._valuesStart,r=this.object,n=this._delayTime;for(var i in this._isPlaying=!0,this._startTime=void 0!==e?e:s(),this._startTime+=n,this._reversed=!1,v(this),t){var o=t[i];r[i]=o}return this}},{key:"update",value:function(t,r,n){var i,o,a,l=this._onStartCallbackFired,h=this._easingFunction,u=this._interpolationFunction,c=this._easingReverse,f=this._repeat,d=this._delayTime,p=this._reverseDelayTime,v=this._yoyo,g=this._reversed,y=this._startTime,w=this._prevTime,_=this._duration,k=this._valuesStart,O=this._valuesEnd,C=this.object,T=this._isFinite,S=this._isPlaying,A=this.__render,M=this._chainedTweensCount,F=0;if(_){var E=(t=void 0!==t?t:s())-w;if(this._prevTime=t,250<E&&x()&&(t-=E-j),!S||t<y&&!n)return!0;i=1<(i=(t-y)/_)?1:i,i=g?1-i:i}else i=1,f=0;if(l||(this._rendered||(this.render(),this._rendered=!0),this.emit(H,C),this._onStartCallbackFired=!0),o=g&&c||h,!C)return!0;for(a in O){var P=k[a];if(null!=P||b[a]&&b[a].update){var B=O[a],z=o[a]?o[a](i):"function"==typeof o?o(i):le(i),G=u[a]?u[a]:"function"==typeof u?u:ne.Linear;"number"==typeof B?C[a]=P+(B-P)*z:Array.isArray(B)&&!Array.isArray(P)?C[a]=G(B,z,C[a]):B&&B.update?B.update(z):"function"==typeof B?C[a]=B(z):"string"==typeof B&&"number"==typeof P?C[a]=P+parseFloat(B[0]+B.substr(2))*z:$(a,C,k,O,z,i),b[a]&&b[a].update&&b[a].update.call(this,C[a],P,B,z,i,a),F++}}if(!F)return m(this),!1;if(A&&e.Renderer&&e.Renderer.update&&e.Renderer.update.call(this,C,i),this.emit(R,C,i,t),1===i||g&&0===i){if(0<f&&0<_){if(T&&this._repeat--,v)this._reversed=!g;else for(a in O){var D=O[a];"string"==typeof D&&"number"==typeof k[a]&&(k[a]+=parseFloat(D[0]+D.substr(2)))}return this.emit(v&&!g?I:N,C),this._startTime=g&&p?t-p:t+d,!0}if(r||(this._isPlaying=!1,m(this),se--),this.emit(q,C),this._repeat=this._r,M)for(var V=0;V<M;V++)this[L+V].start(t+_);return!1}return!0}}]),e}(),ue=function(){function e(){k(this,e),this.totalTime=0,this.labels=[],this.offsets=[]}return C(e,[{key:"parseLabel",value:function(e,t){var r=this.offsets,n=this.labels,i=n.indexOf(e);if("string"==typeof e&&-1!==e.indexOf("=")&&!t&&-1===i){var o=e.substr(e.indexOf("=")-1,2),a=e.split(o);t=2===a.length?o+a[1]:null,e=a[0],i=n.indexOf(e)}if(-1!==i&&e){var s=r[i]||0;if("number"==typeof t)s=t;else if("string"==typeof t&&-1!==t.indexOf("=")){var l=t.charAt(0);t=Number(t.substr(2)),"+"===l||"-"===l?s+=parseFloat(l+t):"*"===l?s*=t:"/"===l?s/=t:"%"===l&&(s*=t/100)}return s}return"number"==typeof t?t:0}},{key:"addLabel",value:function(e,t){return this.labels.push(e),this.offsets.push(this.parseLabel(e,t)),this}},{key:"setLabel",value:function(e,t){var r=this.labels.indexOf(e);return-1!==r&&this.offsets.splice(r,1,this.parseLabel(e,t)),this}},{key:"eraseLabel",value:function(e){var t=this.labels.indexOf(e);return-1!==t&&(this.labels.splice(t,1),this.offsets.splice(t,1)),this}}]),e}(),ce=0,fe=function(e){function t(e){var r;return k(this,t),(r=F(this,S(t).call(this)))._duration=0,r._startTime=void 0!==e.startTime?e.startTime:s(),r._tweens=[],r.elapsed=0,r._id=ce++,r._defaultParams=e,r.position=new ue,r.position.addLabel("afterLast",r._duration),r.position.addLabel("afterInit",r._startTime),r._onStartCallbackFired=!1,F(r,M(r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,he),C(t,[{key:"mapTotal",value:function(e){return e.call(this,this._tweens),this}},{key:"timingOrder",value:function(e){var t=e(this._tweens.map((function(e){return e._startTime})));return this._tweens.map((function(e,r){e._startTime=t[r]})),this}},{key:"getTiming",value:function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if("reverse"===e){var i=r.stagger,o=(i||0)*(t.length-1);return t.map((function(e,t){return o-(i||0)*t+n}))}if("async"===e)return t.map((function(e){return n}));if("sequence"===e||"delayed"===e){var a=r.stagger;return a||(a=(r.duration||1e3)/(t.length-1)),t.map((function(e,t){return a*t+n}))}if("oneByOne"===e)return t.map((function(e){return r.duration}));if("shuffle"===e){var s=r.stagger;return function(e){var t,r,n;for(n=e.length;n;n-=1)t=Math.floor(Math.random()*n),r=e[n-1],e[n-1]=e[t],e[t]=r;return e}(t.map((function(e,t){return(s||0)*t+n})))}var l=r.stagger;return t.map((function(e,t){return(l||0)*t+n}))}},{key:"fromTo",value:function(e,t,r,n){if((e=ae(e,!0,!0))&&e.length){this._defaultParams&&(n=n?T({},this._defaultParams,n):this._defaultParams);for(var i,o=n.label,a="number"==typeof o?o:this.position.parseLabel(void 0!==o?o:"afterLast",null),s=this.getTiming(n.mode,e,n,a),l=0,h=e.length;l<h;l++)i=e[l],this.add(he.fromTo(i,"function"==typeof t?t(l,e.length):"object"===_(t)&&t?T({},t):null,"function"==typeof r?r(l,e.length):r,"function"==typeof n?n(l,e.length):n),s[l])}return this.start()}},{key:"from",value:function(e,t,r){return this.fromTo(e,t,null,r)}},{key:"to",value:function(e,t,r){return this.fromTo(e,null,t,r)}},{key:"addLabel",value:function(e,t){return this.position.addLabel(e,t),this}},{key:"map",value:function(e){for(var t=0,r=this._tweens.length;t<r;t++){var n=this._tweens[t];e(n,t),this._duration=Math.max(this._duration,n._duration+n._startTime)}return this}},{key:"add",value:function(e,t){var r=this;if(Array.isArray(e))return e.map((function(e){r.add(e,t)})),this;"object"!==_(e)||e instanceof he||(e=new he(e.from).to(e.to,e));var n=this._defaultParams,i=this._duration;if(n)for(var o in n)"function"==typeof e[o]&&e[o](n[o]);var a="number"==typeof t?t:this.position.parseLabel(void 0!==t?t:"afterLast",null);return e._startTime=Math.max(this._startTime,e._delayTime,a),e._delayTime=a,e._isPlaying=!0,this._duration=Math.max(i,Math.max(e._startTime+e._delayTime,e._duration)),this._tweens.push(e),this.position.setLabel("afterLast",this._duration),this}},{key:"restart",value:function(){return this._startTime+=s(),v(this),this.emit(B)}},{key:"easing",value:function(e){return this.map((function(t){return t.easing(e)}))}},{key:"interpolation",value:function(e){return this.map((function(t){return t.interpolation(e)}))}},{key:"update",value:function(e){var t,r=this._tweens,n=this._duration,i=this._reverseDelayTime,o=this._startTime,a=this._reversed,l=this._yoyo,h=this._repeat,u=this._isFinite,c=this._isPlaying,f=this._prevTime,d=this._onStartCallbackFired,p=(e=void 0!==e?e:s())-f;if(this._prevTime=e,250<p&&x()&&(e-=p-j),!c||e<o)return!0;t=1<(t=(e-o)/n)?1:t,t=a?1-t:t,this.elapsed=t,d||(this.emit(H),this._onStartCallbackFired=!0);for(var v=e-o,g=a?n-v:v,y=0;y<r.length;)r[y].update(g),y++;if(this.emit(R,t,v),1===t||a&&0===t){if(h){for(u&&this._repeat--,this.emit(a?I:N),l&&(this._reversed=!a,this.timingOrder((function(e){return e.reverse()}))),this._startTime=a&&i?e+i:e,y=0;y<r.length;)r[y].reassignValues(e),y++;return!0}return this.emit(q),this._repeat=this._r,m(this),this._isPlaying=!1}return!0}},{key:"progress",value:function(e){return void 0!==e?this.update(e*this._duration):this.elapsed}}]),t}();t.Plugins=b,t.Selector=ae,t.Interpolator=function(e,t){var r=Array.isArray(e),n="string"==typeof e?e:r?e.slice():T({},e);if(r)for(var i=0,o=e.length;i<o;i++)W(i,n,e,t);else if("object"===_(e))for(var a in e)W(a,n,e,t);else if("string"==typeof e){e=X(e),t=X(t);for(var s=1;s<e.length;)e[s]===t[s]&&"string"==typeof e[s-1]?(e.splice(s-1,2,e[s-1]+e[s]),t.splice(s-1,2,t[s-1]+t[s])):s++;for(var l={isString:!0,length:e.length},h={isString:!0,length:t.length};s<l.length;)l[s]=e[s],h[s]=t[s],s++}return function(i){if(r)for(var o=0,a=e.length;o<a;o++)$(o,n,e,t,i);else if("object"===_(n))for(var s in e)$(s,n,e,t,i);else"string"==typeof n&&(n=$(0,0,e,t,i,i,!0));return n}},t.onTick=function(e){return l.push({update:e})},t.has=function(e){return null!==g(e)},t.get=g,t.getAll=function(){return l},t.removeAll=function(){l.length=0,a(n)},t.remove=m,t.add=v,t.now=s,t.update=y,t.autoPlay=function(e){u=e},t.isRunning=x,t.onRequestTick=function(e){c.push(e)},t.FrameThrottle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:120;p=1.05*e},t.Tween=he,t.Timeline=fe,t.Easing=w,t.Interpolation=ne,t.utils=re,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,r("pVi3"),r("eeCk"))},R9Pm:function(e,t,r){e.exports=function(){"use strict";var e=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],t=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872];function r(e,t){var r=t(e),n=r[0]*r[0]+r[1]*r[1];return Math.sqrt(n)}class n{constructor(e,t,r,n){this.points=[],this.dpoints=[],this._lut=[],this.order=3,this.points.push(e,t,r),n&&this.points.push(n),this.order=this.points.length-1,this.update()}update(){this._lut=[],this.dpoints=function(e){for(var t=[],r=e,n=r.length,i=n-1;n>1;n--,i--){for(var o=[],a=[0,0],s=0;s<i;s++)a=[i*(r[s+1][0]-r[s][0]),i*(r[s+1][1]-r[s][1])],o.push(a);t.push(o),r=o}return t}(this.points)}length(){return function(n){for(var i=0,o=e.length,a=0;a<o;a++)i+=t[a]*r(.5*e[a]+.5,n);return.5*i}(this.derivative.bind(this))}derivative(e){var t=1-e,r=0,n=0,i=0,o=this.dpoints[0];return 2===this.order?(o=[o[0],o[1],[0,0]],r=t,n=e):3===this.order&&(r=t*t,n=t*e*2,i=e*e),[r*o[0][0]+n*o[1][0]+i*o[2][0],r*o[0][1]+n*o[1][1]+i*o[2][1]]}getLUT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;if(!e)return[];if(this._lut.length===e)return this._lut;this._lut=[],e--;for(var t=0;t<=e;t++)this._lut.push(this.compute(t/e));return this._lut}compute(e){return function(e,t){if(0===e)return t[0];var r=t.length-1;if(1===e)return t[r];var n=t,i=1-e;if(0===r)return t[0];if(1===r)return[i*n[0][0]+e*n[1][0],i*n[0][1]+e*n[1][1]];if(r<4){var o=i*i,a=e*e,s=0,l=0,h=0,u=0;return 2===r?(n=[n[0],n[1],n[2],[0,0]],l=o,h=i*e*2,u=a):3===r&&(l=o*i,h=o*e*3,u=i*a*3,s=e*a),[l*n[0][0]+h*n[1][0]+u*n[2][0]+s*n[3][0],l*n[0][1]+h*n[1][1]+u*n[2][1]+s*n[3][1]]}for(var c=JSON.parse(JSON.stringify(t));c.length>1;){for(var f=0;f<c.length-1;f++)c[f]=[c[f][0]+(c[f+1][0]-c[f][0])*e,c[f][1]+(c[f+1][1]-c[f][1])*e];c.splice(c.length-1,1)}return c[0]}(e,this.points)}}var i=new Map;function o(e,t,r,n){var{brickSize:o,color:a}=n;e.save(),e.fillStyle=a,e.shadowColor="rgba(0,0,0,0.5)",e.shadowBlur=3,e.shadowOffsetX=1,e.shadowOffsetY=1,e.beginPath(),e.rect(t,r,o,o),e.fill(),e.beginPath(),e.arc(t+o/2,r+o/2,function(e){if(i.has(e))return i.get(e);var t=Math.min(24,.5*e/2);return i.set(e,t),t}(o),0,2*Math.PI),e.fill(),e.restore()}function a(e,t,r,n){var i=n.brickSize;o(r,e*i,t*i,n)}function s(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n&&e.sort((e,t)=>e[0]===t[0]?e[1]<t[1]?-1:e[1]>t[1]?1:0:e[0]<t[0]?-1:e[0]>t[0]?1:0);var i=r.brickSize;e.forEach(e=>{o(t,e[0]*i,e[1]*i,r)})}function l(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Set,o=[],a=e=>{var t=e.join(",");i.has(t)||(i.add(t),o.push(e))};if(e===r)for(var s=Math.min(t,n),l=Math.max(t,n),h=s;h<=l;h++)a([e,h]);else{var u=n-t,c=r-e,f=u/c,d=t-f*e;if(Math.abs(c)>=Math.abs(u))for(var p=Math.min(e,r),v=Math.max(e,r),g=p;g<=v;g++)a([g,Math.round(f*g+d)]);else for(var m=Math.min(t,n),y=Math.max(t,n),x=m;x<=y;x++)a([Math.round((x-d)/f),x])}return o}function h(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,r=[],n=0;n<e.length-1;n++){var[i,o]=e[n],[a,s]=e[n+1],h=l(i,o,a,s,t);r=[...r,...h]}return r}function u(e,t,r,n,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(o.filled||s)for(var l=0;l<r;l++)for(var h=0;h<n;h++)a(e+l,t+h,i,o);else r>0&&n>0&&f([[e,t],[e+r-1,t],[e+r-1,t+n-1],[e,t+n-1],[e,t]],i,o)}function c(e,t,r,n,i,o){s(l(e,t,r,n),i,o)}function f(e,t,r){s(h(e),t,r,!0)}function d(e,t,r,n,i,o){var a=0,l=n,h=r*r,c=n*n,f=-(h/4+r%2+c),d=-(c/4+n%2+h),p=-(c/4+n%2),v=-h*l,g=2*c*a,m=-2*h*l,y=2*c,x=2*h,b=()=>{a++,v+=g+=y},w=()=>{l--,v+=m+=x};if(o.filled){var _=[],k=a,O=l,C=1,T=1,S=(e,t,r,n)=>{n<0&&(t+=n+1,n=Math.abs(n)),_.push({x:e,y:t,width:r,height:n})};if(0===n)S(e-1,t,2*r+1,1);else{for(;l>=0&&a<=r;)v+c*a<=f||v+h*l<=p?(1===T||(2*O+1>2*(T-1)?(S(e-k,t-O,C,T-1),S(e-k,t+O,C,1-T),O-=T-1,T=1):(S(e-k,t-O,C,2*O+1),O-=O,T=1)),b(),k++,C+=2):v-h*l>d?(w(),T++):(2*O+1>2*T?(S(e-k,t-O,C,T),S(e-k,t+O,C,-T)):S(e-k,t-O,C,2*O+1),b(),w(),k++,C+=2,O-=T,T=1);O>T?(S(e-k,t-O,C,T),S(e-k,t+O+1,C,-T)):S(e-k,t-O,C,2*O+1)}_.forEach(e=>{e.height<0&&(e.y+=e.height+1,e.height=Math.abs(e.height))}),_.sort((e,t)=>e.y-t.y),_.forEach(e=>u(e.x,e.y,e.width,e.height,i,o,!0))}else{for(var A=[];l>=0&&a<=r;)A.push([e+a,t+l]),0===a&&0===l||A.push([e-a,t-l]),0!==a&&0!==l&&(A.push([e+a,t-l]),A.push([e-a,t+l])),v+c*a<=f||v+h*l<=p?b():v-h*l>d?w():(b(),w());s(A,i,o,!0)}}function p(e,t,r){if(0!==e.length)if(1!==e.length)if(2!==e.length){var n=[...e];n[0].join(",")!==n[n.length-1].join(",")&&n.push([n[0][0],n[0][1]]),r.filled?function(){for(var e=new Set,i=h(n,e),o=[],a=0;a<n.length-1;a++){var u=n[a],c=n[a+1];if(u[1]!==c[1]){var f=Math.min(u[1],c[1]);o.push({ymin:f,ymax:Math.max(u[1],c[1]),x:f===u[1]?u[0]:c[0],islope:(c[0]-u[0])/(c[1]-u[1])})}}o.sort((e,t)=>e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax));for(var d=[],p=o[0].ymin;d.length||o.length;){if(o.length){for(var v=-1,g=0;g<o.length&&!(o[g].ymin>p);g++)v=g;o.splice(0,v+1).forEach(e=>{d.push({s:p,edge:e})})}if((d=d.filter(e=>e.edge.ymax!==p)).sort((e,t)=>e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)),d.length>1)for(var m=0;m<d.length;m+=2){var y=m+1;if(y>=d.length)break;var x=d[m].edge,b=d[y].edge;i=i.concat(l(Math.round(x.x),p,Math.round(b.x),p,e))}p++,d.forEach(e=>{e.edge.x=e.edge.x+e.edge.islope})}s(i,t,r,!0)}():f(n,t,r)}else{var[[i,o],[u,d]]=e;c(i,o,u,d,t,r)}else a(e[0][0],e[0][1],t,r)}return class{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,r=arguments.length>2?arguments[2]:void 0;this.defaultOptions={brickSize:24,color:"#2196F3",filled:!1},this.ctx=e,this.defaultOptions.brickSize=t,r&&(r.color&&(this.defaultOptions.color=r.color),"boolean"==typeof r.filled&&(this.defaultOptions.filled=r.filled))}opt(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}line(e,t,r,n,i){c(e,t,r,n,this.ctx,this.opt(i))}linearPath(e,t){f(e,this.ctx,this.opt(t))}rectangle(e,t,r,n,i){u(e,t,r,n,this.ctx,this.opt(i))}circle(e,t,r,n){!function(e,t,r,n,i){d(e,t,r,r,n,i)}(e,t,r,this.ctx,this.opt(n))}ellipse(e,t,r,n,i){d(e,t,r,n,this.ctx,this.opt(i))}polygon(e,t){p(e,this.ctx,this.opt(t))}arc(e,t,r,n,i,o,a,s){!function(e,t,r,n,i,o,a,s,l){var h=Math.min(i,o),u=Math.max(i,o);if(h!==u&&!(r<=0||n<=0)){u-h>2*Math.PI&&(h=0,u=2*Math.PI);for(var c=Math.round(2*Math.sqrt((r*r+n*n)/2)*(u-h)),d=(u-h)/c,v=new Set,g=[],m=0;m<=c;m++){var y=h+m*d,x=Math.cos(y),b=Math.sin(y),w=r*n/Math.sqrt(n*n*x*x+r*r*b*b),_=[e+Math.round(w*x),t+Math.round(w*b)],k=_.join(",");v.has(k)||(v.add(k),g.push(_))}if(a){var O=[e,t],C=O.join(",");v.has(C)||(v.add(C),g.push(O)),p(g,s,l)}else f(g,s,l)}}(e,t,r,n,i,o,a,this.ctx,this.opt(s))}bezierCurve(e,t,r,i,o,a,s,l,h){!function(e,t,r,i,o,a,s,l,h,u){var c=new n([e,t],[r,i],[o,a],[s,l]),d=c.getLUT(c.length()).map(e=>[Math.round(e[0]),Math.round(e[1])]);d.push([s,l]),u.filled?p(d,h,u):f(d,h,u)}(e,t,r,i,o,a,s,l,this.ctx,this.opt(h))}quadraticCurve(e,t,r,i,o,a,s){!function(e,t,r,i,o,a,s,l){var h=new n([e,t],[r,i],[o,a]),u=h.getLUT(h.length()).map(e=>[Math.round(e[0]),Math.round(e[1])]);u.push([o,a]),l.filled?p(u,s,l):f(u,s,l)}(e,t,r,i,o,a,this.ctx,this.opt(s))}drawImage(e,t,r,n,i){!function(e,t,r,n,i,o,s){var l=t.brickSize;o||(o=[0,0]),s||(s=[r.width,r.height]),i||(i=[Math.round(s[0]/l),Math.round(s[1]/l)]);var[h,u]=i,c="undefined"!=typeof OffscreenCanvas?new OffscreenCanvas(h,u):document.createElement("canvas");c.width=h,c.height=u;var f=c.getContext("2d");f.drawImage(r,o[0],o[1],s[0],s[1],0,0,i[0],i[1]);for(var d=f.getImageData(0,0,h,u),p=0;p<u;p++)for(var v=0;v<h;v++){var g={brickSize:l,color:"rgb(".concat(d.data[p*h*4+4*v],", ").concat(d.data[p*h*4+4*v+1],", ").concat(d.data[p*h*4+4*v+2],")"),filled:!1};a(n[0]+v,n[1]+p,e,g)}}(this.ctx,this.opt(),e,t,r,n,i)}}}()},YmBN:function(e,t,r){"use strict";r.r(t),function(e){var n,i=r("GOFX"),o=r("tYtm"),a=r("/uG0"),s=Object(i.default)("glycanjs:svgrenderer"),l=Symbol("document_container"),h="https://glycocode.com/glycanjs",u={side:1,top:1},c="object"!=typeof e||"object"!=typeof e.versions||void 0===e.versions.node?r("fKn/").default:"",f=e=>e.toFixed(1),d=function(e,t){for(var r of"mousemove mousedown mouseup click touchstart touchend touchmove drop dragover".split(" "))e.addEventListener(r,t,{passive:!0,capture:!0})},p=function(e,t){var r=this.rotate;if(t.clientX){var n=e.createSVGPoint();n.x=t.clientX,n.y=t.clientY;var i=n.matrixTransform(e.getScreenCTM().inverse()),o=i.x/100,a=i.y/100;t.sugarX=r?-1*a+1:o,t.sugarY=r?o:a}};class v extends a.default{constructor(e,t){s("SVGRenderer"),super(e,t),e&&t&&(this[l]=e,this.element=new o.default(e),this.element.canvas.setAttribute("xmlns:glycanjs",h),d(this.element.canvas,p.bind(this,this.element.canvas)))}static get SYMBOLS(){return c}static get GLOBAL_SCALE(){return 100}static fromSVGElement(e,t){var r=new n;r[l]=e.parentNode,r.element=new o.default(e),r.element.canvas=e,((e,t)=>{for(var r of e.querySelectorAll("symbol"))r.parentNode.removeChild(r);var n=e.ownerDocument.createElement("div");for(var i of(n.innerHTML=t.replace(/<\?.*\?>/,""),n.querySelectorAll("defs")))e.appendChild(i)})(e,v.SYMBOLS),(e=>{for(var t of e.querySelectorAll("symbol *[fill]")){var r=t.getAttribute("fill"),n=t.getAttribute("stroke-width"),i=t.getAttribute("stroke");r&&(t.style.fill="var(--fill-color,".concat(r,")")),n&&(t.style.strokeWidth="var(--stroke-width,".concat(n,")")),i&&(t.style.stroke="var(--stroke-color,".concat(i,")"))}for(var o of e.querySelectorAll("g[*|location] line")){var a=o.getAttribute("stroke-width"),s=o.getAttribute("stroke");a&&(o.style.strokeWidth="var(--stroke-width,".concat(a,")")),s&&(o.style.stroke="var(--stroke-color,".concat(s,")"))}})(e),d(e,p.bind(r,e));var i=e.querySelectorAll("g");for(var a of i)if(a.hasAttribute("glycanjs:sequence")){var s=new t;for(var h of(s.sequence=a.getAttribute("glycanjs:sequence"),r.addSugar(s),r.rendered.set(s,r.element.group(a)),a.querySelectorAll("use")))if(h.hasAttribute("glycanjs:location")){var u={residue:{element:h}};h.parentNode!==a&&a.appendChild(h),r.rendered.set(s.locate_monosaccharide(h.getAttribute("glycanjs:location")),u)}for(var c of a.querySelectorAll("g")){if(c.hasAttribute("glycanjs:location"))c.parentNode!==a&&(a.appendChild(c),r.element.sendToBack(c)),r.rendered.get(s.locate_monosaccharide(c.getAttribute("glycanjs:location"))).linkage=c}}return r}resetTags(){for(var e of this.sugars){var t=this.rendered.get(e);if(t.tagGroup)for(var r of[...t.tagGroup.element.childNodes])t.appendChild(r)}}setupContainer(e,t){var r=this.element;if(e||((e=r.group()).setAttributeNS(null,"pointer-events","none"),this.rendered.set(t,e)),e.setAttributeNS(h,"glycanjs:sequence",t.sequence),this.groupTag&&!e.tagGroup&&(e.tagGroup=e.group(),e.tagGroup.element.setAttribute("class","tagged")),e.tagGroup){for(var n of e.tagGroup.element.childNodes)e.appendChild(n);var i=e.tagGroup.element.ownerDocument.defaultView.getComputedStyle(e.tagGroup.element);if(i){var o=i.getPropertyValue("--zindex").trim()||0;o=parseInt(o);var a=e.tagGroup.element.parentElement;o<0&&a.insertBefore(e.tagGroup.element,a.firstChild),o>0&&a.insertBefore(e.tagGroup.element,null)}}return e}renderLinkageGroup(e,t,r){var n=e.group();return n.element.setAttributeNS(h,"glycanjs:location",t.location_for_monosaccharide(r)),n}renderLinkageLabel(e,t,r,n,i,o){var a=e.text(t,r,n);return a.setAttribute("font-size",f(Math.floor(100/3))),a.firstChild.setAttribute("dy","0.75em"),!i&&o<0&&a.setAttribute("text-anchor","end"),i&&o<0&&a.firstChild.setAttribute("dy","0em"),a}removeRendered(e){e.residue&&e.residue.element.parentNode.removeChild(e.residue.element),e.linkage&&(e.linkage.element?e.linkage.element.parentNode.removeChild(e.linkage.element):e.linkage.parentNode.removeChild(e.linkage))}renderIcon(e,t,r,n){var i=this.icon_prefix?"".concat(this.icon_prefix,"_"):"",o=e.use("#".concat(i).concat(t),0,0,1,1);return o.setAttributeNS(h,"glycanjs:identifier",r.identifier),o.setAttributeNS(h,"glycanjs:location",n.location_for_monosaccharide(r)),o.setAttributeNS(h,"glycanjs:parent",r.parent?n.location_for_monosaccharide(r.parent):""),{element:o}}setIconPosition(e,t,r,n,i,o){var a="";0!==o&&(a="rotate(".concat(f(o),",").concat(f(t+n/2),",").concat(f(r+i/2),")"));var s="".concat(a," translate(").concat(f(t),",").concat(f(r),") scale(").concat(f(n),",").concat(f(i),")");e.element.setAttribute("transform",s)}screenCoordinatesFromLayout(e){var t=this.element.canvas,r=t.createSVGPoint(),n=e.x+e.width,i=e.y+e.height;r.x=100*e.x,r.y=100*e.y;var o=r.matrixTransform(t.getScreenCTM());return e.x=o.x,e.y=o.y,r.x=100*n,r.y=100*i,o=r.matrixTransform(t.getScreenCTM()),e.width=o.x-e.x,e.height=o.y-e.y,e}scaleToFit(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=this.element.canvas,r=t.getBBox(),n=[r.x-100*e.side,r.y-100*e.top,r.width+200*e.side,r.height+200*e.top];t.setAttribute("viewBox",n.join(" ")),t.setAttribute("preserveAspectRatio","xMidYMid meet")}}n=class extends v{layoutFor(e){var{x:t,y:r,width:n,height:i}=this.rendered.get(e).residue.element.getBoundingClientRect();return{x:t,y:r,width:n,height:i}}screenCoordinatesFromLayout(e){return e}},t.default=v}.call(this,r("eeCk"))},ZMFw:function(e,t,r){"use strict";r.r(t);var n=Symbol("torender");var i=function(e){var t=e.getContext("2d");t.font="".concat(this.options["font-size"]||25,"px Helvetica"),t.textAlign="left",this.options["text-anchor"]&&(t.textAlign=this.options["text-anchor"]),t.textBaseline="top",this.options.dy&&(t.textBaseline="middle"),t.fillStyle="#111",t.fillText(this.text,this.x,this.y)},o=function(e){var t=e.getContext("2d");this.options["stroke-width"]&&(t.lineWidth=this.options["stroke-width"]),this.options.stroke&&(t.strokeStyle=this.options.stroke),t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(this.x2,this.y2),t.stroke()},a=new Map,s=function(e){var t=e.getContext("2d"),r=a.get(this.src);r||((r=new Image).src=this.src,r.loaded=new Promise(e=>{r.addEventListener("load",e)})),a.set(this.src,r),r.loaded.then(()=>{t.drawImage(r,this.x,this.y,this.width,this.height)})};class l extends class{constructor(){this[n]=[]}get torender(){return this[n]}appendChild(e){e.parent&&e.parent.torender.splice(e.parent.torender.indexOf(e),1),e.parent=this,this.torender.push(e)}sendToBack(e){return e.parent.torender.unshift(e.parent.torender.splice(e.parent.torender.indexOf(e),1)[0]),e}sendToFront(e){return e.parent.torender.push(e.parent.torender.splice(e.parent.torender.indexOf(e),1)[0]),e}remove(e){this.torender.splice(this.torender.indexOf(e),1)}}{constructor(e){super(),e&&(this.canvas=e)}createElement(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.canvas.ownerDocument).createElement(e)}group(e){return e||(e=new l,this.appendChild(e)),e}use(e,t,r,n,i){var o={icon:e,x:t,y:r,width:n,height:i,render:s};return this.appendChild(o),o}rect(){}line(e,t,r,n){var i={x:e,y:t,x2:r,y2:n,options:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},render:o};return this.appendChild(i),i}text(e,t,r){var n={x:e,y:t,text:r,options:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},render:i};return this.appendChild(n),n}}t.default=l},dyOA:function(e,t,r){"use strict";r.r(t),t.default=function(e,t){if(!(e instanceof CanvasRenderingContext2D))throw"Need a 2D canvas context.";t=Object.assign({handleScale:!1,handleTransforms:!1,handleResize:!0,handleScroll:!0,onchange:null,matrix:null,plugins:[]},t);var r,n,i,o,a,s,l,h=this,u=Object.defineProperty.bind(Object),c="currentTransform"in e||"mozCurrentTransform"in e,f=t.plugins,d=e.canvas,p=t.matrix,v=p?p.inverse():null,g=t.handleScale,m=t.handleTransforms&&(c||p),y=p?function(e){var t=v.applyToPoint(e.x,e.y);return{x:t.x,y:t.y,timeStamp:e.timeStamp}}:function(t){var r,n,i=e.currentTransform||e.mozCurrentTransform;i instanceof SVGMatrix&&(i=DOMMatrix.fromMatrix(i));return r=void 0===i.a?new DOMMatrix(i):i,n=r.invertSelf(),{x:t.x*n.a+t.y*n.c+n.e,y:t.x*n.b+t.y*n.d+n.f,timeStamp:t.timeStamp}};function x(){p&&!p._xx&&(p._xx=p._x,p._x=function(){return v=this.inverse(),this._xx()})}function b(){var e=d.getBoundingClientRect(),t=getComputedStyle(d),r=t.getPropertyValue.bind(t),h=parseFloat,u="padding-",c="border-",f="-width",p="left",v="right",g="bottom";s=h(r(u+p))+h(r(c+p+f)),l=h(r(u+"top"))+h(r(c+"top"+f)),n=e.left+s,i=e.top+l,o=d.width/(e.width-(s+h(r(u+v))+h(r(c+v+f))))||1,a=d.height/(e.height-(l+h(r(u+g))+h(r(c+g+f))))||1}function w(){cancelAnimationFrame(r),r=requestAnimationFrame(k)}function _(){cancelAnimationFrame(r),r=requestAnimationFrame(O)}function k(){b(),t.onchange&&t.onchange({type:"resize",timeStamp:Date.now()})}function O(){var e=d.getBoundingClientRect();n=e.left+s,i=e.top+l,t.onchange&&t.onchange({type:"scroll",timeStamp:Date.now()})}!m||c||p||(console.log("currentTransform not supported by browser"),m=!1),this.getPos=function(e){var t,r={x:(t=e).clientX-n,y:t.clientY-i,timeStamp:t.timeStamp};if(g&&(r=function(e){return e.x*=o,e.y*=a,e}(r)),m&&(r=y(r)),f.length)for(var s=0;s<f.length;s++)r=f[s].handler(e,r);return r},this.getPosXY=function(e,t){var r;return 1===arguments.length?(t=e.y,r=e.x):r=e,h.getPos({clientX:r/o+n,clientY:t/a+i,timestamp:Date.now()})},this.addPlugin=function(e){f.indexOf(e)<0&&f.push(e)},this.removePlugin=function(e){var t=f.indexOf(e);t>-1&&f.splice(t,1)},this.init=b,this.update=O,u(h,"handleScale",{get:function(){return g},set:function(e){g=!!e}}),u(h,"handleTransforms",{get:function(){return m},set:function(e){m=!!e&&(c||p)}}),u(h,"handleScroll",{get:function(){return t.handleScroll},set:function(e){e?(window.addEventListener("scroll",_),t.handleScroll=!0):(window.removeEventListener("scroll",_),t.handleScroll=!1)}}),u(h,"handleResize",{get:function(){return t.handleResize},set:function(e){e?(window.addEventListener("resize",w),t.handleResize=!0):(window.removeEventListener("resize",w),t.handleResize=!1)}}),u(h,"onchange",{get:function(){return t.onchange},set:function(e){t.onchange=e}}),u(h,"matrix",{get:function(){return p},set:function(e){p=e,m=m&&(c||p),x()}}),x(),b(),h.handleResize=t.handleResize,h.handleScroll=t.handleScroll}},eeCk:function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,h=[],u=!1,c=-1;function f(){u&&l&&(u=!1,l.length?h=l.concat(h):c=-1,h.length&&d())}function d(){if(!u){var e=s(f);u=!0;for(var t=h.length;t;){for(l=h,h=[];++c<t;)l&&l[c].run();c=-1,t=h.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new p(e,t)),1!==h.length||u||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"fKn/":function(e,t,r){"use strict";r.r(t),t.default='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="50 50 500 1300">\n\x3c!--\nRGB settings for SNFG\nWhite  #fff\nBlue  #0090bc\nGreen  #00a651\nYellow  #ffd400\nLight blue  #8fcce9\nPink  #f69ea1\nPurple  #a54399\nBrown  #a17a4d\nOrange  #f47920\nRed  #ed1c24\n--\x3e\n  <defs>\n    <symbol id="hexnac_base" viewBox="0 0 100 100">\n      <rect x="10" y="10" width="80" height="80" style="fill: var(--fill-color); stroke: var(--stroke-color); stroke-width: var(--stroke-width);" />\n    </symbol>\n    <symbol id="hex_base" viewBox="0 0 100 100">\n      <circle cx="50" cy="50" r="40" style="fill: var(--fill-color); stroke: var(--stroke-color); stroke-width: var(--stroke-width);"/>\n    </symbol>\n    <symbol id="sia_base" viewBox="0 0 100 100">\n      <rect x="17" y="17" transform="rotate(45,50,50)" width="66" height="66" style="fill: var(--fill-color); stroke: var(--stroke-color); stroke-width: var(--stroke-width);"/>\n    </symbol>\n    <symbol id="hexnac" viewBox="0 0 100 100">\n      <rect x="10" y="10" width="80" height="80" fill="#fff" stroke-width="3" stroke="#000"/>\n    </symbol>\n    <symbol id="galnac" viewBox="0 0 100 100">\n      <rect x="10" y="10" width="80" height="80" fill="#ffd400" stroke-width="1" stroke="#000"/>\n    </symbol>\n    <symbol id="glcnac" viewBox="0 0 100 100">\n      <rect x="10" y="10" width="80" height="80" fill="#0090bc" stroke-width="1" stroke="#000"/>\n    </symbol>\n    <symbol id="man" viewBox="0 0 100 100">\n      <circle cx="50" cy="50" fill="#00a651" r="40" stroke-width="1" stroke="#000"/>\n    </symbol>\n    <symbol id="man6p" viewBox="0 0 100 100">\n      <circle cx="50" cy="75" fill="#00a651" r="20" stroke-width="1" stroke="#000"/>\n      <text x="50" y="25" text-anchor="middle" stroke="#000" stroke-width="2" dy=".35em" dx="0.05em" font-size="25">P</text>\n    </symbol>\n    <symbol id="glc" viewBox="0 0 100 100">\n      <circle cx="50" cy="50" fill="#0090bc" r="40" stroke-width="1" stroke="#000"/>\n    </symbol>\n    <symbol id="gal" viewBox="0 0 100 100">\n      <circle cx="50" cy="50" fill="#ffd400" r="40" stroke-width="1" stroke="#000"/>\n    </symbol>\n    <symbol id="hex" viewBox="0 0 100 100">\n      <circle cx="50" cy="50" fill="#fff" r="40" stroke-width="3" stroke="#000"/>\n    </symbol>\n    <symbol id="neu" viewBox="0 0 100 100">\n      <rect x="17" y="17" transform="rotate(45,50,50)" fill="#ed1c24" stroke="#000" stroke-width="1" width="66" height="66"/>\n    </symbol>\n    <symbol id="neuac" viewBox="0 0 100 100">\n      <rect x="17" y="17" transform="rotate(45,50,50)" fill="#a54399" stroke="#000" stroke-width="1" width="66" height="66"/>\n    </symbol>\n    <symbol id="neugc" viewBox="0 0 100 100">\n      <rect x="17" y="17" transform="rotate(45,50,50)" fill="#8fcce9" stroke="#000" stroke-width="1" width="66" height="66"/>\n    </symbol>\n    <symbol id="fuc" viewBox="0 0 100 100">\n      <path d="M50,15 90,90 10,90 z" fill="#ed1c24" stroke="#000" stroke-width="1"/>\n    </symbol>\n    <symbol id="fucnac" viewBox="0 0 100 100">\n      <path d="M50,15 90,90 50,90 z" fill="#ed1c24" stroke="#000" stroke-width="1"/>\n      <path d="M50,15 50,90 10,90 z" fill="#fff" stroke="#000" stroke-width="1"/>\n    </symbol>\n    <symbol id="rha" viewBox="0 0 100 100">\n      <path d="M50,15 90,90 10,90 z" fill="#00a651" stroke="#000" stroke-width="1"/>\n    </symbol>\n    <symbol id="ara" viewBox="0 0 100 100">\n<polyline fill="#00a651" stroke="#000" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="\n  67.802,60.462 78.803,94.32 50.001,69.823 21.196,94.322 32.199,60.462 3.386,39.531 38.999,39.534 50,5.678 61.002,39.536 96.615,39.539 67.804,60.462 "/>\n    </symbol>\n    <symbol id="araf" viewBox="0 0 100 100">\n<polyline fill="#00a651" stroke="#000" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="\n  67.802,60.462 78.803,94.32 50.001,69.823 21.196,94.322 32.199,60.462 3.386,39.531 38.999,39.534 50,5.678 61.002,39.536 96.615,39.539 67.804,60.462 "/>\n      <text x="50" y="50" text-anchor="middle" stroke="#fff" fill="#fff" stroke-width="0" dy=".4em" dx="-0.1em" font-size="50" font-family="sans-serif" font-style="italic">f</text>\n    </symbol>\n    <symbol id="xyl" viewBox="0 0 100 100">\n<polyline fill="#f47920" stroke="#000" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="\n  67.802,60.462 78.803,94.32 50.001,69.823 21.196,94.322 32.199,60.462 3.386,39.531 38.999,39.534 50,5.678 61.002,39.536 96.615,39.539 67.804,60.462 "/>\n    </symbol>\n    <symbol id="rib" viewBox="0 0 100 100">\n<polyline fill="#f69ea1" stroke="#000" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="\n  67.802,60.462 78.803,94.32 50.001,69.823 21.196,94.322 32.199,60.462 3.386,39.531 38.999,39.534 50,5.678 61.002,39.536 96.615,39.539 67.804,60.462 "/>\n    </symbol>\n    <symbol id="rbo" viewBox="0 0 100 100">\n<polyline fill="#f69ea1" stroke="#000" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="\n  67.802,60.462 78.803,94.32 50.001,69.823 21.196,94.322 32.199,60.462 3.386,39.531 38.999,39.534 50,5.678 61.002,39.536 96.615,39.539 67.804,60.462 "/>\n    <text x="50" y="50" text-anchor="middle" stroke="#fff" fill="#fff" stroke-width="0" dy=".4em" dx="-0.1em" font-size="25" font-family="sans-serif" font-style="italic">ol</text>\n    </symbol>\n    <symbol id="hexa" viewBox="0 0 100 100">\n      <polyline fill="#fff" stroke="#000" stroke-width="1" points="50,5 95,50 5,50 50,5"/>\n      <polyline fill="#fff" stroke="#000" stroke-width="1" points="50,95 95,50 5,50 50,95"/>\n    </symbol>\n    <symbol id="glca" viewBox="0 0 100 100">\n      <polyline fill="#0090bc" stroke="#000" stroke-width="1" points="50,5 95,50 5,50 50,5"/>\n      <polyline fill="#fff" stroke="#000" stroke-width="1" points="50,95 95,50 5,50 50,95"/>\n    </symbol>\n    <symbol id="glcn" viewBox="0 0 100 100">\n      <polyline fill="#0090bc" stroke="#000" stroke-width="1" points="10,10 90,10 90,90 10,10"/>\n      <polyline fill="#fff" stroke="#000" stroke-width="1" points="10,10 90,90 10,90 10,10"/>\n    </symbol>\n    <symbol id="idoa" viewBox="0 0 100 100">\n      <polyline fill="#fff" stroke="#000" stroke-width="1" points="50,5 95,50 5,50 50,5"/>\n      <polyline fill="#a17a4d" stroke="#000" stroke-width="1" points="50,95 95,50 5,50 50,95"/>\n    </symbol>\n    <symbol id="cer" viewBox="0 0 100 100">\n      <path fill="#fff" stroke="#000" stroke-width="4" stroke-linecap="round" d="M35.8,15 64.2,15 75.5,27.2 64.2,38.3 75.5,50 64.2,61.1 75.5,72 64.2,83 75.5,94 L75.5,110 L35.8,110"/>\n      <path fill="#fff" stroke="#999" stroke-width="4" stroke-linecap="round"  d="M35.8,15 24.5,27.2 35.8,38.3 24.5,50 35.8,61.1 24.5,72 35.8,83 24.5,94"/>\n    </symbol>\n    \x3c!--\n    <symbol id="man(a1-2)man" viewBox="0 0 100 100">\n      <svg viewBox="0 0 100 100" x="0" y="0" width="100" height="50">\n        <circle cx="50" cy="50" fill="#00a651" r="40" stroke-width="1" stroke="#000"/>\n      </svg>\n      <svg viewBox="0 0 100 100" x="0" y="50" width="100" height="50">\n        <circle cx="50" cy="50" fill="#00a651" r="40" stroke-width="1" stroke="#000"/>\n      </svg>\n    </symbol>\n    <symbol id="neuac(a2-3)gal(b1-3)galnac" viewBox="0 0 100 100">\n      <svg viewBox="0 0 100 100" x="0" y="0" width="100" height="33">\n        <rect x="17" y="17" transform="rotate(45,50,50)" fill="#a54399" stroke="#000" stroke-width="1" width="66" height="66"/>\n      </svg>\n      <svg viewBox="0 0 100 100" x="0" y="33" width="100" height="33">\n        <circle cx="50" cy="50" fill="#ffd400" r="40" stroke-width="1" stroke="#000"/>\n      </svg>\n      <svg viewBox="0 0 100 100" x="0" y="66" width="100" height="33">\n        <rect x="10" y="10" width="80" height="80" fill="#ffd400" stroke-width="1" stroke="#000"/>\n      </svg>\n    </symbol>\n    <symbol id="gal(b1-3)galnac" viewBox="0 0 100 100">\n      <svg viewBox="0 0 100 100" x="0" y="0" width="100" height="50">\n        <circle cx="50" cy="50" fill="#ffd400" r="40" stroke-width="1" stroke="#000"/>\n      </svg>\n      <svg viewBox="0 0 100 100" x="0" y="50" width="100" height="50">\n        <rect x="10" y="10" width="80" height="80" fill="#ffd400" stroke-width="1" stroke="#000"/>\n      </svg>\n    </symbol>\n    <symbol id="glcnac(b1-4)glcnac" viewBox="0 0 100 100">\n      <svg viewBox="0 0 100 100" x="0" y="0" width="100" height="50">\n        <rect x="10" y="10" width="80" height="80" fill="#0090bc" stroke-width="1" stroke="#000"/>\n      </svg>\n      <svg viewBox="0 0 100 100" x="0" y="50" width="100" height="50">\n        <rect x="10" y="10" width="80" height="80" fill="#0090bc" stroke-width="1" stroke="#000"/>\n      </svg>\n    </symbol>\n    <symbol id="man(a1-3)[man(a1-6)]man(b1-4)glcnac(b1-4)glcnac" viewBox="0 0 100 100">\n      <svg viewBox="0 0 100 100" x="50" y="0" width="25" height="25">\n        <circle cx="50" cy="50" fill="#00a651" r="40" stroke-width="1" stroke="#000"/>\n      </svg>\n      <svg viewBox="0 0 100 100" x="25" y="0" width="25" height="25">\n        <circle cx="50" cy="50" fill="#00a651" r="40" stroke-width="1" stroke="#000"/>\n      </svg>\n      <svg viewBox="0 0 100 100" x="37.5" y="25" width="25" height="25">\n        <circle cx="50" cy="50" fill="#00a651" r="40" stroke-width="1" stroke="#000"/>\n      </svg>\n      <svg viewBox="0 0 100 100" x="37.5" y="50" width="25" height="25">\n        <rect x="10" y="10" width="80" height="80" fill="#0090bc" stroke-width="1" stroke="#000"/>\n      </svg>\n      <svg viewBox="0 0 100 100" x="37.5" y="75" width="25" height="25">\n        <rect x="10" y="10" width="80" height="80" fill="#0090bc" stroke-width="1" stroke="#000"/>\n      </svg>\n    </symbol>\n    <symbol id="glcnac(b1-4)glcnac.potential" viewBox="0 0 100 100">\n      <svg viewBox="0 0 100 100" x="0" y="0" width="100" height="50">\n        <rect x="10" y="10" width="80" height="80" fill="#67a2fc" stroke-width="0" stroke="#000"/>\n      </svg>\n      <svg viewBox="0 0 100 100" x="0" y="50" width="100" height="50">\n        <rect x="10" y="10" width="80" height="80" fill="#67a2fc" stroke-width="0" stroke="#000"/>\n      </svg>\n    </symbol>\n    --\x3e\n    <symbol id="phospho" viewBox="0 0 100 100">\n      <circle cx="50" cy="50" fill="#fff" r="48" stroke-width="3" stroke="#000"/>\n      <text x="50" y="50" text-anchor="middle" stroke="#000" stroke-width="2" dy=".35em" dx="0.05em" font-size="50">P</text>\n    </symbol>\n    <symbol id="hso3" viewBox="0 0 100 100">\n      <circle cx="50" cy="50" fill="#fdbbbb" r="35" stroke-width="4" stroke="#aa3030"/>\n      <text x="50" y="50" text-anchor="middle" fill="#aa3030" stroke="none" stroke-width="2" dy=".35em" dx="0.05em" font-size="50">S</text>\n    </symbol>\n    <symbol id="hso3.2" viewBox="0 0 100 100">\n      <circle cx="50" cy="50" fill="#fdbbbb" r="35" stroke-width="4" stroke="#aa3030"/>\n      <text x="50" y="50" text-anchor="middle" fill="#aa3030" stroke="none" stroke-width="2" dy=".35em" dx="0.05em" font-size="30">2S</text>\n    </symbol>\n    <symbol id="hso3.3" viewBox="0 0 100 100">\n      <circle cx="50" cy="50" fill="#fdbbbb" r="35" stroke-width="4" stroke="#aa3030"/>\n      <text x="50" y="50" text-anchor="middle" fill="#aa3030" stroke="none" stroke-width="2" dy=".35em" dx="0.05em" font-size="30">3S</text>\n    </symbol>\n    <symbol id="hso3.4" viewBox="0 0 100 100">\n      <circle cx="50" cy="50" fill="#fdbbbb" r="35" stroke-width="4" stroke="#aa3030"/>\n      <text x="50" y="50" text-anchor="middle" fill="#aa3030" stroke="none" stroke-width="2" dy=".35em" dx="0.05em" font-size="30">4S</text>\n    </symbol>\n    <symbol id="hso3.6" viewBox="0 0 100 100">\n      <circle cx="50" cy="50" fill="#fdbbbb" r="35" stroke-width="4" stroke="#aa3030"/>\n      <text x="50" y="50" text-anchor="middle" fill="#aa3030" stroke="none" stroke-width="2" dy=".35em" dx="0.05em" font-size="30">6S</text>\n    </symbol>\n    <symbol id="hso3.N" viewBox="0 0 100 100">\n      <circle cx="50" cy="50" fill="#fdbbbb" r="35" stroke-width="4" stroke="#aa3030"/>\n      <text x="50" y="50" text-anchor="middle" fill="#aa3030" stroke="none" stroke-width="2" dy=".35em" dx="0.05em" font-size="30">NS</text>\n    </symbol>\n    <symbol id="p" viewBox="0 0 100 100">\n      <circle cx="50" cy="50" fill="#bbe5fa" r="35" stroke-width="4" stroke="#2f5fac"/>\n      <text x="50" y="50" text-anchor="middle" fill="#2f5fac" stroke="none" stroke-width="2" dy=".35em" dx="0.05em" font-size="50">P</text>\n    </symbol>\n    <symbol id="p" viewBox="0 0 100 100">\n      <circle cx="50" cy="50" fill="#bbe5fa" r="35" stroke-width="4" stroke="#2f5fac"/>\n      <text x="50" y="50" text-anchor="middle" fill="#2f5fac" stroke="none" stroke-width="2" dy=".35em" dx="0.05em" font-size="50">P</text>\n    </symbol>\n    <symbol id="ser" viewBox="0 0 100 100">\n      <path d="M20,50 a1,1 0 0,0 30,0 a1,1 0 0,1 30,0" fill="none" stroke="#000" stroke-width="1"/>\n      <text x="50" y="98" text-anchor="middle" fill="#000" stroke="#000" stroke-width="0" font-size="40">Ser</text>\n    </symbol>\n    <symbol id="thr" viewBox="0 0 100 100">\n      <path d="M20,50 a1,1 0 0,0 30,0 a1,1 0 0,1 30,0" fill="none" stroke="#000" stroke-width="1"/>\n      <text x="50" y="98" text-anchor="middle" fill="#000" stroke="#000" stroke-width="0" font-size="40">Thr</text>\n    </symbol>\n    <symbol id="asn" viewBox="0 0 100 100">\n      <path d="M20,50 a1,1 0 0,0 30,0 a1,1 0 0,1 30,0" fill="none" stroke="#000" stroke-width="1"/>\n      <text x="50" y="98" text-anchor="middle" fill="#000" stroke="#000" stroke-width="0" font-size="40">Asn</text>\n    </symbol>\n    <symbol id="hyl" viewBox="0 0 100 100">\n      <path d="M20,50 a1,1 0 0,0 30,0 a1,1 0 0,1 30,0" fill="none" stroke="#000" stroke-width="1"/>\n      <text x="50" y="98" text-anchor="middle" fill="#000" stroke="#000" stroke-width="0" font-size="40">Hyl</text>\n    </symbol>\n    <symbol id="etnp" viewBox="0 0 100 100">\n      <path d="M72.109,55.693h12.039c2.38,0,4.302,0.674,5.765,2.023c1.464,1.35,2.196,3.245,2.196,5.687\n        c0,2.101-0.653,3.929-1.959,5.486s-3.304,2.336-5.996,2.336h-8.401v11.373h-3.644V55.693z M86.245,59.392\n        c-0.799-0.378-1.897-0.567-3.291-0.567h-7.201v9.323h7.201c1.625,0,2.943-0.348,3.955-1.044c1.012-0.696,1.519-1.923,1.519-3.681\n        C88.427,61.444,77.7,50.101,76.245,49.392z"/>\n       <path d="M10,10h4.052l12.663,20.516V10H30v25.392h-3.865L13.285,14.901v20.492H10V10z"/>\x3c!--"/>--\x3e\n      <polyline fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="38.202,22.696 57.491,41.848 52.509,46.866 47.527,51.884 63.907,68.148 "/>\n    </symbol>\n\n    <symbol id="pi" viewBox="0 0 100 100">\n  <path d="M40.5,37.048h12.039c2.38,0,4.302,0.674,5.765,2.023c1.464,1.35,2.196,3.245,2.196,5.687c0,2.101-0.653,3.929-1.959,5.486\n    c-1.306,1.557-3.304,2.336-5.996,2.336h-8.401v11.373H40.5V37.048z M54.636,40.747c-0.799-0.378-1.897-0.567-3.291-0.567h-7.201\n    v9.323h7.201c1.625,0,2.943-0.348,3.955-1.044s1.519-1.923,1.519-3.681C56.819,42.799,56.091,41.456,54.636,40.747z"/>\n<polyline fill="none" stroke="#000000" stroke-miterlimit="10" points="12.076,90.888 12.076,54.475 33.525,54.475 "/>\n<line fill="none" stroke="#000000" stroke-miterlimit="10" x1="22.8" y1="80.746" x2="22.8" y2="54.475"/>\n<polygon fill="#fff" stroke="#000000" stroke-miterlimit="10" points="50.482,3.475 38.46,10.415 38.46,24.297 50.482,31.237 \n  62.503,24.297 62.503,10.415 "/>\n<line fill="none" stroke="#000000" stroke-miterlimit="10" x1="50.482" y1="35.021" x2="50.482" y2="31.237"/>\n    </symbol>\n\n  </defs>\n  \x3c!--\n  <g>\n    <rect x="0" y="0" width="100" height="100" stroke-width="0.1" stroke="#000" fill="none"/>\n    <text x="20" y="50" font-family="helvetica">100 x 100</text>\n    <text x="0" y="15"  font-family="helvetica">0</text>\n    <text x="70" y="100"  font-family="helvetica">100</text>\n  </g>\n  --\x3e\n  <use xlink:href="#galnac" x="100" y="100" width="100" height="100"/>\n  <use xlink:href="#glcnac" x="200" y="100" width="100" height="100"/>\n  <use xlink:href="#man" x="300" y="100" width="100" height="100"/>\n  <use xlink:href="#glc" x="400" y="100" width="100" height="100"/>\n  <text x="150" text-anchor="middle" y="210">GalNAc</text>\n  <text x="250" text-anchor="middle" y="210">GlcNAc</text>\n  <text x="350" text-anchor="middle" y="210">Mannose</text>\n  <text x="450" text-anchor="middle" y="210">Glucose</text>\n  <use xlink:href="#fuc" x="100" y="250" width="100" height="100"/>\n  <use xlink:href="#neu" x="200" y="250" width="100" height="100"/>\n  <use xlink:href="#neuac" x="300" y="250" width="100" height="100"/>\n  <use xlink:href="#neugc" x="400" y="250" width="100" height="100"/>\n  <text x="150" text-anchor="middle" y="370">Fucose</text>\n  <text x="250" text-anchor="middle" y="370">Sialic acid</text>\n  <text x="350" text-anchor="middle" y="370">NeuAc</text>\n  <text x="450" text-anchor="middle" y="370">NeuGc</text>\n\n  <use xlink:href="#ara" x="100" y="400" width="100" height="100"/>\n  <use xlink:href="#xyl" x="200" y="400" width="100" height="100"/>\n  <use xlink:href="#glca" x="300" y="400" width="100" height="100"/>\n  <use xlink:href="#idoa" x="400" y="400" width="100" height="100"/>\n\n  <text x="150" text-anchor="middle" y="510">Arabinose</text>\n  <text x="250" text-anchor="middle" y="510">Xylose</text>\n  <text x="350" text-anchor="middle" y="510">GlcA</text>\n  <text x="450" text-anchor="middle" y="510">IdoA</text>\n\n  <use xlink:href="#hexa" x="100" y="550" width="100" height="100"/>\n  <use xlink:href="#hex" x="200" y="550" width="100" height="100"/>\n  <use xlink:href="#hexnac" x="300" y="550" width="100" height="100"/>\n  <use xlink:href="#p" x="400" y="550" width="100" height="100"/>\n\n  <text x="150" text-anchor="middle" y="660">HexA</text>\n  <text x="250" text-anchor="middle" y="660">Hexose</text>\n  <text x="350" text-anchor="middle" y="660">HexNAc</text>\n  <text x="450" text-anchor="middle" y="660">P</text>\n\n  <use xlink:href="#ser" x="100" y="700" width="100" height="100"/>\n  <use xlink:href="#thr" x="200" y="700" width="100" height="100"/>\n  <use xlink:href="#asn" x="300" y="700" width="100" height="100"/>\n  <use xlink:href="#hyl" x="400" y="700" width="100" height="100"/>\n\n  <text x="150" text-anchor="middle" y="810">Ser</text>\n  <text x="250" text-anchor="middle" y="810">Thr</text>\n  <text x="350" text-anchor="middle" y="810">Asn</text>\n  <text x="450" text-anchor="middle" y="810">HyL</text>\n\n  <use xlink:href="#hso3" x="100" y="850" width="100" height="100"/>\n  <use xlink:href="#cer" x="200" y="850" width="100" height="100"/>\n  <use xlink:href="#hso3.2" x="300" y="850" width="100" height="100"/>\n  <use xlink:href="#hso3.3" x="400" y="850" width="100" height="100"/>\n\n  <text x="150" text-anchor="middle" y="960">HSO3</text>\n  <text x="250" text-anchor="middle" y="960">Cer</text>\n  <text x="350" text-anchor="middle" y="960">2S</text>\n  <text x="450" text-anchor="middle" y="960">3S</text>\n\n\n  <use xlink:href="#hso3.4" x="100" y="1000" width="100" height="100"/>\n  <use xlink:href="#hso3.6" x="200" y="1000" width="100" height="100"/>\n  <use xlink:href="#hso3.N" x="300" y="1000" width="100" height="100"/>\n  <use xlink:href="#glcn" x="400" y="1000" width="100" height="100"/>\n\n  <text x="150" text-anchor="middle" y="1110">4S</text>\n  <text x="250" text-anchor="middle" y="1110">6S</text>\n  <text x="350" text-anchor="middle" y="1110">NS</text>\n  <text x="450" text-anchor="middle" y="1110">GlcN</text>\n\n\n  <use xlink:href="#etnp" x="100" y="1150" width="100" height="100"/>\n  <use xlink:href="#pi" x="200" y="1150" width="100" height="100"/>\n  <use xlink:href="#etnp" x="300" y="1150" width="100" height="100"/>\n  <use xlink:href="#etnp" x="400" y="1150" width="100" height="100"/>\n\n  <text x="150" text-anchor="middle" y="1260">Etnp</text>\n  <text x="250" text-anchor="middle" y="1260">PI</text>\n  <text x="350" text-anchor="middle" y="1260">Etnp</text>\n  <text x="450" text-anchor="middle" y="1260">Etnp</text>\n\n\n</svg>\n'},hDvV:function(e,t,r){e.exports=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var r;function a(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(a.enabled){var o=a,s=Number(new Date),l=s-(r||s);o.diff=l,o.prev=r,o.curr=s,r=s,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var h=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(e,r)=>{if("%%"===e)return e;h++;var i=n.formatters[r];if("function"==typeof i){var a=t[h];e=i.call(o,a),t.splice(h,1),h--}return e}),n.formatArgs.call(o,t);var u=o.log||n.log;u.apply(o,t)}}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=i,a.extend=o,"function"==typeof n.init&&n.init(a),n.instances.push(a),a}function i(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function o(e,t){var r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){var e=[...n.names.map(a),...n.skips.map(a).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var o=n.instances[t];o.enabled=n.enabled(o.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r("Fddr"),Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},jGvu:function(e,t,r){(function(n){t.log=function(){return"object"==typeof console&&console.log&&console.log(...arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r("hDvV")(t);var{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r("eeCk"))},jPXB:function(e,t,r){e.exports=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var r;function a(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(a.enabled){var o=a,s=Number(new Date),l=s-(r||s);o.diff=l,o.prev=r,o.curr=s,r=s,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var h=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(e,r)=>{if("%%"===e)return e;h++;var i=n.formatters[r];if("function"==typeof i){var a=t[h];e=i.call(o,a),t.splice(h,1),h--}return e}),n.formatArgs.call(o,t);var u=o.log||n.log;u.apply(o,t)}}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=i,a.extend=o,"function"==typeof n.init&&n.init(a),n.instances.push(a),a}function i(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function o(e,t){var r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){var e=[...n.names.map(a),...n.skips.map(a).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var o=n.instances[t];o.enabled=n.enabled(o.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r("1QVZ"),Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},nCIn:function(e,t,r){"use strict";r.r(t),function(e){var n=r("EYlo"),i=r("GOFX"),o=r("/uG0"),a=r("ZMFw"),s=r("dyOA");function l(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,s,"next",e)}function s(e){l(o,n,i,a,s,"throw",e)}a(void 0)}))}}var u=Symbol("document_container"),c="object"!=typeof e||"object"!=typeof e.versions||void 0===e.versions.node?r("fKn/").default:"",f=Object(i.default)("glycanjs:canvasrenderer"),d=Symbol("done_tween"),p=(e,t)=>(e.x.push(t[0]),e.y.push(t[1]),e);class v{constructor(e){this._mat=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix(),this._mat.a=e[0],this._mat.b=e[1],this._mat.c=e[2],this._mat.d=e[3],this._mat.e=e[4],this._mat.f=e[5]}applyToPoint(e,t){var r=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGPoint();return r.x=e,r.y=t,r.matrixTransform(this._mat)}inverse(){var e=this._mat.inverse(),t=[e.a,e.b,e.c,e.d,e.e,e.f];return new v(t)}multiply(e){var t=this._mat.multiply(e._mat),r=[t.a,t.b,t.c,t.d,t.e,t.f];return new v(r)}}var g,m=function(e,t){var r=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:[],y:[]};if(t.torender){for(var n of t.torender)r=e(n,r);return r}return t.x2&&(p(r,[t.x,t.y]),p(r,[t.x2,t.y2])),t.width&&(p(r,[t.x,t.y]),p(r,[t.x+t.width,t.y+t.height])),t.text&&(p(r,[t.x,t.y]),p(r,[t.x,t.y])),r}(t);r.x=r.x.map((e,t,r)=>{if(t%2==0)return.5*(e+r[t+1])}).filter(e=>void 0!==e),r.y=r.y.map((e,t,r)=>{if(t%2==0)return.5*(e+r[t+1])}).filter(e=>void 0!==e);var n=Math.min(...r.x)-100,i=Math.max(...r.x)+100,o=Math.min(...r.y)-100,a=Math.max(...r.y)+100;e.width=1*(i-n),e.height=1*(a-o);var l,h=e.getContext("2d"),{width:u,height:c}=e.getBoundingClientRect(),f=e.height,d=c||1,g=e.width,m=u||1;if(f>g){var y=new v([f/d,0,0,f/d,0,0]).multiply(new v([1,0,0,1,-.5*m,0]));l=new v([1,0,0,1,.5*g,0]).multiply(y)}else{var x=new v([g/m,0,0,g/m,0,0]).multiply(new v([1,0,0,1,0,-.5*d]));l=new v([1,0,0,1,0,.5*f]).multiply(x)}h.setTransform(1,0,0,1,-1*n,-1*o),e.cm=new s.default(h,{handleScale:!1,handleTransforms:!0,matrix:new v([1,0,0,1,-1*n,-1*o])}),e.cm.centering_matrix=l,e.screenToCanvasMatrix=new v([1,0,0,1,-1*n,-1*o]).inverse().multiply(l),function e(t,r){if(r.torender)for(var n of r.torender)e(t,n);else r.render&&r.render(t)}(e,t)},y=e=>{var t={};if(t.fill=e.getAttribute("fill"),e.getAttribute("stroke-width")&&parseFloat(e.getAttribute("stroke-width"))>0&&(t.stroke=e.getAttribute("stroke")),e.getAttribute("transform")){var[r,n,i,o]=e.getAttribute("transform").match(/rotate\((\d+),(\d+),(\d+)\)/);r.length>0&&(t.rotate={angle:n,cx:i,cy:o})}return t},x=e=>{var t=[];for(var r of e.querySelectorAll("path")){var n=y(r);n.d=r.getAttribute("d"),t.push(n)}for(var i of e.querySelectorAll("circle")){var o=y(i);o.cx=parseFloat(i.getAttribute("cx")),o.cy=parseFloat(i.getAttribute("cy")),o.r=parseFloat(i.getAttribute("r")),t.push(o)}for(var a of e.querySelectorAll("rect")){var s=y(a),l=a.getAttribute("x"),h=a.getAttribute("y"),u=parseFloat(a.getAttribute("x"))+parseFloat(a.getAttribute("width")),c=parseFloat(a.getAttribute("y"))+parseFloat(a.getAttribute("height"));s.d="M".concat(l,",").concat(h," ").concat(u,",").concat(h," ").concat(u,",").concat(c," ").concat(l,",").concat(c," z"),t.push(s)}for(var f of e.querySelectorAll("polyline")){var d=y(f);d.d="M"+f.getAttribute("points")+"Z",t.push(d)}for(var p of e.querySelectorAll("text")){var v=y(p);v.fontSize=p.getAttribute("font-size"),v.text=p.textContent;var g=p.getAttribute("x"),m=p.getAttribute("y");v.x=g,v.y=m,t.push(v)}return t},b=Symbol("global_symbols"),w=Symbol("performing_import"),_=new WeakMap,k=function(e,t){if(t.clientX){var r=e.getBoundingClientRect(),n=e.screenToCanvasMatrix.applyToPoint(t.clientX-r.x,t.clientY-r.y),i=n.x/100,o=n.y/100;t.sugarX=i,t.sugarY=o}},O=(e,t,r)=>(t*=100,(e*=100)>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height),C=(e,t)=>({left:e,top:t,width:0,height:0}),T=function(e){if(e.sugarX||e.sugarY){var t=[...this.iconset].filter(O.bind(null,e.sugarX,e.sugarY)),r=e.type;for(var n of t)if(n.hasElement()){e.stopImmediatePropagation();var i=new Event(r,{bubbles:!0});return n.element.getBoundingClientRect=C.bind(null,e.clientX,e.clientY),n.element.dispatchEvent(i),void("dragover"===r&&this.last_dragenter!==n&&(this.last_dragenter&&(delete this.last_dragenter,i=new Event("dragleave",{bubbles:!0}),n.element.dispatchEvent(i)),i=new Event("dragenter",{bubbles:!0}),n.element.dispatchEvent(i),this.last_dragenter=n))}if(t.length<1&&"dragover"===r&&this.last_dragenter){var o=new Event("dragleave",{bubbles:!0});this.last_dragenter.element.dispatchEvent(o),delete this.last_dragenter}}};class S extends o.default{constructor(e,t){var r;if(f("CanvasRenderer"),super(e,t),Object(n.autoPlay)(!0),this.iconset=new Set,Object(n.onTick)(()=>{this.animating&&this.paint()}),this.ready=g.call(this),e)for(var i of(e instanceof HTMLCanvasElement?r=e:(this[u]=e,f.info("Creating canvas element"),(r=e.ownerDocument.createElement("canvas")).setAttribute("width","1px"),r.setAttribute("height","1px"),e.appendChild(r)),this.element=new a.default(r),function(e,t){for(var r of"mousemove mousedown mouseup click touchstart touchend touchmove drop dragover".split(" "))e.addEventListener(r,t,{passive:!0,capture:!0})}(this.element.canvas,k.bind(this,this.element.canvas)),["click","dragover"]))this.element.canvas.addEventListener(i,T.bind(this),{capture:!0})}static get Canvas(){return a.default}static get SYMBOLS(){return c}static get GLOBAL_SCALE(){return 100}get animating(){for(var e of this.iconset)if(!e.rendered)return!0;return!1}setupContainer(e,t){var r=this.element;if(e||(e=r.group(),this.rendered.set(t,e)),this.groupTag&&!e.tagGroup&&(e.tagGroup=e.group()),e.tagGroup)for(var n of e.tagGroup.element.childNodes)e.appendChild(n);return e}renderLinkageGroup(e){return e.group()}renderLinkageLabel(e,t,r,n,i,o){var a=e.text(t,r,n);return!i&&o<0&&(a["text-anchor"]="end"),a}removeRendered(e){e.residue&&(e.residue.parent.remove(e.residue),e.residue.element&&e.residue.element.parentNode.removeChild(e.residue.element),this.iconset.has(e.residue)&&this.iconset.delete(e.residue)),e.linkage&&e.linkage.parent.remove(e.linkage)}setIconPosition(e,t,r,i,o,a){_.get(e)||_.set(e,new n.Tween(e));var s=_.get(e),l=200;e.rendered=!1,clearTimeout(e[d]),e.x!==t||e.y!==r||e.width!==i||e.height!==o?(this.iconset.has(e)||(this.iconset.add(e),e.x=t,e.y=r,e.width=i,e.height=o,e.rotate=a,l=0,e.rendered=!0),s.to({x:t,y:r,width:i,height:o,rotate:a},l).on("complete",e=>{e[d]=setTimeout(()=>{e.rendered=!0},0)}).start()):e.rendered=!0}screenCoordinatesFromLayout(e){var t=this.element.canvas,r={x:0,y:0},n=e.x+e.width,i=e.y+e.height;r.x=100*e.x,r.y=100*e.y;var o=t.screenToCanvasMatrix.inverse().applyToPoint(r.x,r.y);return e.x=o.x,e.y=o.y,r.x=100*n,r.y=100*i,o=t.screenToCanvasMatrix.inverse().applyToPoint(r.x,r.y),e.width=o.x-e.x,e.height=o.y-e.y,e.x+=t.getBoundingClientRect().x,e.y+=t.getBoundingClientRect().y,e}renderIcon(e,t){var r=e.use(t,0,0,1,1);r.src=this.symbols[t].svg,r.paths=this.symbols[t].paths;var n=this.element.canvas;return Object.defineProperty(r,"element",{get:function(){return this._element||(this._element=n.ownerDocument.createElement("button"),n.appendChild(this._element)),this._element}}),r.hasElement=()=>"_element"in r,r}scaleToFit(){}paint(){m(this.element.canvas,this.element)}refresh(){var e=this;return h((function*(){return e.ready.then(h((function*(){yield o.default.prototype.refresh.call(e),e.paint()})))}))()}}S[b]=null,S[w]=!1,g=function(){var e=document.createElement("svg");return S[w]?new Promise(e=>{setTimeout(()=>{g.call(this).then(e)},0)}):null!==S[b]?(this.symbols=S[b],Promise.resolve()):(S[w]=!0,this.symbols={},Promise.resolve().then(()=>e.innerHTML=c).then(()=>{for(var t of e.querySelectorAll("defs symbol")){var r=t.innerHTML.replace(/#/g,"%23"),n=x(t),i='data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" x="0" y="0" width="100px" height="100px">'.concat(r,"</svg>");this.symbols[t.getAttribute("id")]={svg:i,paths:n}}S[b]=this.symbols,S[w]=!1}))},t.default=S}.call(this,r("eeCk"))},oPxf:function(e,t,r){var n=r("tw+A"),i={};function o(e,t,r,o){var a=Reflect.get(e,t,r)||Reflect.get(n,t,r);return a&&a!==n?a:(o&&(t="".concat(o,":").concat(t)),i[t]||(i[t]=s(t)))}var a=(e,t,r)=>Reflect.set(n,t,r),s=new Proxy((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return new Proxy(n(e,...r),{get:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o(...r,e)},set:a})}),{get:o,set:a});e.exports=s},onMR:function(e,t,r){"use strict";r.r(t),r.d(t,"Tracer",(function(){return u})),r.d(t,"trace_into_class",(function(){return h})),r.d(t,"TracedMonosaccharide",(function(){return a}));var n=r("GOFX"),i=r("KdfE"),o=Object(n.default)("glycanjs:tracing");class a extends i.default{constructor(e){return super(e.identifier),this.original=e,this}get anomer(){return this.original.anomer}get parent_linkage(){return this.original.parent_linkage}get identifier(){return this.original.identifier}set anomer(e){return this.original.anomer}set parent_linkage(e){return this.original.parent_linkage}set identifier(e){return this.original.identifier}linkageOf(e){return this.original.linkageOf(e.original)}clone(){var e=new this.constructor(this.original);return e.original=this.original,e.copyTagsFrom(this),e}}var s=(e,t,r,n,i)=>{var o=function(e,t,r){var n=e.clone();t=n.composition().filter(e=>e.original===t.original)[0];var i=new e.constructor.Monosaccharide(r);return t.addChild(t.original.linkageOf(r),i),{sugar:n,child:i}}(e,t,i);return o.child.copyTagsFrom(n),r.push(i),o.sugar},l=(e,t)=>e.composition().filter(e=>t.indexOf(e.original)>=0),h=function(e,t){var r=new Map,n=new t;for(var i of(n.root=new t.Monosaccharide(e.root),r.set(e.root,n.root),e.breadth_first_traversal()))if(i!==e.root){var o=new t.Monosaccharide(i);o=Object.assign(o,i),r.set(i,o),r.get(i.parent).addChild(i.parent.linkageOf(i),o)}return n};class u{static trace(e,t,r,n){var i=e.constructor;return function(e,t,r,n,i){var a=new WeakMap,h=[],u=new WeakMap;o.info("Tracing",n.sequence,"onto",t.sequence,"moving cursor over template");var c=[...n.breadth_first_traversal(n.root,t=>{if(o.info("Template cursor is positioned at",t.identifier),u=new WeakMap,!t.parent)return o.info("The cursor is at the root - the search sugar is at",r.identifier),h.push((n=new e,c=r,f=n.constructor.Monosaccharide,n.root=new f(c),n)),a.set(t,[h[0].composition()[0].original]),h[0].composition()[0].copyTagsFrom(t),o.info("Done with this cursor",t.identifier),h.length>0;var n,c,f;a.set(t,[]),o.info("Residues in the search tree that correspond to the cursor parent are",a.get(t.parent).map(e=>e.identifier));var d=t.parent.linkageOf(t);h=h.filter(e=>l(e,a.get(t.parent)).length>0),o.info("Current sets of sugars are",h);var p=h.map(e=>{var r=l(e,a.get(t.parent));if(r.length>1)throw new Error("Tracing mapped a template residue to more than one residue in the search sugar");return u.set(r[0],e),r[0]});for(var v of(h=[],o.info("We need to find children of the attachment points linked via a",d,"linkage"),p)){var g=v.original;o.info("Attachment point is a wrapped residue with identifier",g.identifier);var m=0==d?g.children:g.child_linkages.get(d);o.info("We want to find a match for the cursor from within",(m||[]).length,"possible child residues");var y=[].concat(m).filter(i.bind(null,t)).filter(e=>e);if(y.length>=1){var x=s.bind(null,u.get(v),v,a.get(t),t);o.info("Valid children in search sugar are",y.map(e=>e.identifier));var b=y.map(x);h=h.concat(b)}}return h.length>0})];return o.info("We mapped",c.length,"out of",n.composition().length,"residues"),o.info(h.map(e=>e.sequence)),h}(class extends i{static get Monosaccharide(){return a}},e,t,r,n)}}},pVi3:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},tYtm:function(e,t,r){"use strict";r.r(t);var n=r("GOFX"),i=Object(n.default)("glycanjs:svgcanvas"),o="http://www.w3.org/2000/svg",a=e=>e.toFixed(1);t.default=class{constructor(e){i.info("Creating canvas element");var t="DEFS"===e.nodeName;this.canvas=this.createElement(t?"symbol":"svg",e.ownerDocument),this.canvas.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.appendChild(this.canvas)}createElement(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.canvas.ownerDocument).createElementNS(o,e)}appendChild(e){this.canvas.appendChild(e)}group(e){return e||(e=this.canvas.ownerDocument.createElementNS(o,"g"),this.appendChild(e)),Object.create(this,{appendChild:{value:t=>e.appendChild(t)},setAttribute:{value:(t,r)=>e.setAttribute(t,r)},setAttributeNS:{value:(t,r,n)=>e.setAttributeNS(t,r,n)},element:{value:e}})}use(e,t,r,n,i){var s=this.canvas.ownerDocument.createElementNS(o,"use");return s.setAttribute("x",a(t)),s.setAttribute("y",a(r)),s.setAttribute("width",a(n)),s.setAttribute("height",a(i)),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),this.appendChild(s),s}rect(e,t,r,n){var i=this.canvas.ownerDocument.createElementNS(o,"rect");return i.setAttribute("x",a(e)),i.setAttribute("y",a(t)),i.setAttribute("width",a(r)),i.setAttribute("height",a(n)),this.appendChild(i),i}line(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=this.canvas.ownerDocument.createElementNS(o,"line");for(var l of(s.setAttribute("x1",a(e)),s.setAttribute("y1",a(t)),s.setAttribute("x2",a(r)),s.setAttribute("y2",a(n)),Object.keys(i)))s.setAttribute(l,i[l]);var[h,u,c]=[i.fill?"fill: var(--fill-color,".concat(i.fill,");"):"",i.stroke?"stroke: var(--stroke-color,".concat(i.stroke,");"):"",i["stroke-width"]?"stroke-width: var(--stroke-width,".concat(i["stroke-width"],")"):""];return s.setAttribute("style","".concat(h).concat(u).concat(c)),s.setAttribute("stroke-linecap","round"),this.appendChild(s),s}text(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.canvas.ownerDocument.createElementNS(o,"text"),s=this.canvas.ownerDocument.createElementNS(o,"tspan");for(var l of("string"!=typeof r?i.appendChild(r):(i.appendChild(s),s.textContent=r,s.setAttribute("dy","0")),i.style.fontFamily="Helvetica, Verdana, Arial, Sans-serif",i.setAttribute("x",a(e)),i.setAttribute("y",a(t)),["font-size","text-anchor"]))n[l]&&i.setAttribute(l,n[l]);for(var h of["dy","dx"])n[h]&&s.setAttribute(h,n[h]);return this.appendChild(i),i}sendToBack(e){e.element&&(e=e.element);var t=e.parentNode;return t.insertBefore(e,t.firstChild),e}sendToFront(e){return e.element&&(e=e.element),e.parentNode.insertBefore(e,null),e}}},"tw+A":function(e,t,r){(function(n){t.log=function(){return"object"==typeof console&&console.log&&console.log(...arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r("jPXB")(t);var{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r("eeCk"))}}]);